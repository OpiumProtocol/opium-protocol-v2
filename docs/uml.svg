<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="10702pt" height="3977pt"
 viewBox="0.00 0.00 10702.13 3977.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 3973.4)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-3973.4 10698.131,-3973.4 10698.131,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2530.9507,-212.7 2530.9507,-1093.5 3881.9823,-1093.5 3881.9823,-212.7 2530.9507,-212.7"/>
<text text-anchor="middle" x="3206.4665" y="-1076.9" font-family="Times,serif" font-size="14.00" fill="#000000">Core</text>
<polyline fill="none" stroke="#000000" points="2530.9507,-1068.7 3881.9823,-1068.7 "/>
<text text-anchor="start" x="2538.9507" y="-1052.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="2538.9507" y="-1035.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;protocolParametersArgs: RegistryEntities.ProtocolParametersArgs</text>
<text text-anchor="start" x="2538.9507" y="-1018.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;protocolAddressesArgs: RegistryEntities.ProtocolAddressesArgs</text>
<text text-anchor="start" x="2538.9507" y="-1001.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;p2pVaults: mapping(bytes32=&gt;uint256)</text>
<text text-anchor="start" x="2538.9507" y="-984.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;cancelledDerivatives: mapping(bytes32=&gt;bool)</text>
<text text-anchor="start" x="2538.9507" y="-968.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;derivativePayouts: mapping(bytes32=&gt;uint256[])</text>
<text text-anchor="start" x="2538.9507" y="-951.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;reservesVault: mapping(address=&gt;mapping(address=&gt;uint256))</text>
<text text-anchor="start" x="2538.9507" y="-934.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;__gap: uint256[]</text>
<polyline fill="none" stroke="#000000" points="2530.9507,-926.3 3881.9823,-926.3 "/>
<text text-anchor="start" x="2538.9507" y="-909.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="2538.9507" y="-892.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_create(_derivative: LibDerivative.Derivative, _derivativeHash: bytes32, _amount: uint256, _positionsOwners: address[])</text>
<text text-anchor="start" x="2538.9507" y="-876.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_mint(_amount: uint256, _positionsAddresses: address[], _positionsOwners: address[])</text>
<text text-anchor="start" x="2538.9507" y="-859.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_redeem(_positionsAddresses: address[], _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-842.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_execute(_positionOwner: address, _positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-825.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_cancel(_positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-808.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_computePayout(_opiumPositionTokenParams: IOpiumPositionToken.OpiumPositionTokenParams, _amount: uint256, _syntheticAggregator: ISyntheticAggregator, _oracleAggregator: IOracleAggregator): (payout: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-792.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_computeReserves(_derivativeAuthorAddress: address, _tokenAddress: address, _protocolReserveReceiver: address, _reservePercentage: uint256, _protocolReservePercentage: uint256, _initialAmount: uint256): (totalReserve: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-775.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_increaseP2PVault(_derivativeHash: bytes32, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-758.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_decreaseP2PVault(_derivativeHash: bytes32, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-741.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_onlyOpiumFactoryTokens(_tokenAddress: address, _opiumPositionTokenParams: IOpiumPositionToken.OpiumPositionTokenParams)</text>
<text text-anchor="start" x="2538.9507" y="-724.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_getDerivativePayouts(_derivativeHash: bytes32): (uint256, uint256)</text>
<text text-anchor="start" x="2538.9507" y="-708.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2538.9507" y="-691.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_registry: address)</text>
<text text-anchor="start" x="2538.9507" y="-674.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getProtocolParametersArgs(): RegistryEntities.ProtocolParametersArgs</text>
<text text-anchor="start" x="2538.9507" y="-657.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getProtocolAddresses(): RegistryEntities.ProtocolAddressesArgs</text>
<text text-anchor="start" x="2538.9507" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getReservesVaultBalance(_reseveRecipient: address, _token: address): uint256</text>
<text text-anchor="start" x="2538.9507" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getDerivativePayouts(_derivativeHash: bytes32): uint256[]</text>
<text text-anchor="start" x="2538.9507" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getP2pDerivativeVaultFunds(_derivativeHash: bytes32): uint256</text>
<text text-anchor="start" x="2538.9507" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isDerivativeCancelled(_derivativeHash: bytes32): bool</text>
<text text-anchor="start" x="2538.9507" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateProtocolParametersArgs()</text>
<text text-anchor="start" x="2538.9507" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;updateProtocolAddresses()</text>
<text text-anchor="start" x="2538.9507" y="-540.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;claimReserves(_tokenAddress: address)</text>
<text text-anchor="start" x="2538.9507" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;claimReserves(_tokenAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;create(_derivative: LibDerivative.Derivative, _amount: uint256, _positionsOwners: address[])</text>
<text text-anchor="start" x="2538.9507" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createAndMint(_derivative: LibDerivative.Derivative, _amount: uint256, _positionsOwners: address[])</text>
<text text-anchor="start" x="2538.9507" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(_amount: uint256, _positionsAddresses: address[], _positionsOwners: address[])</text>
<text text-anchor="start" x="2538.9507" y="-456.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;execute(_positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;execute(_positionOwner: address, _positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-422.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;execute(_positionsAddresses: address[], _amounts: uint256[])</text>
<text text-anchor="start" x="2538.9507" y="-405.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;execute(_positionsOwner: address, _positionsAddresses: address[], _amounts: uint256[])</text>
<text text-anchor="start" x="2538.9507" y="-388.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;redeem(_positionsAddresses: address[], _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-372.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;redeem(_positionsAddresses: address[][], _amounts: uint256[])</text>
<text text-anchor="start" x="2538.9507" y="-355.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;cancel(_positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-338.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;cancel(_positionsAddresses: address[], _amounts: uint256[])</text>
<text text-anchor="start" x="2538.9507" y="-321.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2538.9507" y="-304.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogCreated(_buyer: address, _seller: address, _derivativeHash: bytes32, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-288.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogMinted(_buyer: address, _seller: address, _derivativeHash: bytes32, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-271.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogExecuted(_positionsOwner: address, _positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-254.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogDerivativeHashCancelled(_positionOwner: address, _derivativeHash: bytes32)</text>
<text text-anchor="start" x="2538.9507" y="-237.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogCancelled(_positionOwner: address, _derivativeHash: bytes32, _amount: uint256)</text>
<text text-anchor="start" x="2538.9507" y="-220.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogRedeemed(_positionOwner: address, _derivativeHash: bytes32, _amount: uint256)</text>
</g>
<!-- 23 -->
<g id="node9" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4433.8921,-1172.5 4433.8921,-1431.7 4939.0409,-1431.7 4939.0409,-1172.5 4433.8921,-1172.5"/>
<text text-anchor="middle" x="4686.4665" y="-1415.1" font-family="Times,serif" font-size="14.00" fill="#000000">RegistryManager</text>
<polyline fill="none" stroke="#000000" points="4433.8921,-1406.9 4939.0409,-1406.9 "/>
<text text-anchor="start" x="4441.8921" y="-1390.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="4441.8921" y="-1373.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;__gap: uint256[]</text>
<text text-anchor="start" x="4441.8921" y="-1356.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4441.8921" y="-1339.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;registry: IRegistry</text>
<polyline fill="none" stroke="#000000" points="4433.8921,-1331.7 4939.0409,-1331.7 "/>
<text text-anchor="start" x="4441.8921" y="-1315.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4441.8921" y="-1298.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__RegistryManager__init(_registry: address)</text>
<text text-anchor="start" x="4441.8921" y="-1281.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4441.8921" y="-1264.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setRegistry(_registry: address)</text>
<text text-anchor="start" x="4441.8921" y="-1247.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getRegistry(): address</text>
<text text-anchor="start" x="4441.8921" y="-1231.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4441.8921" y="-1214.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogRegistryChanged(_changer: address, _newRegistryAddress: address)</text>
<text text-anchor="start" x="4441.8921" y="-1197.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyRegistryManager()</text>
<text text-anchor="start" x="4441.8921" y="-1180.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyCoreConfigurationUpdater()</text>
</g>
<!-- 0&#45;&gt;23 -->
<g id="edge12" class="edge">
<title>0&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M3882.169,-1091.2093C3884.9345,-1092.1532 3887.7004,-1093.0835 3890.4665,-1094 4116.2677,-1168.8127 4198.9901,-1054.214 4424.4665,-1130 4446.3199,-1137.3452 4468.1152,-1146.9723 4489.2733,-1157.9248"/>
<polygon fill="none" stroke="#000000" points="4484.3397,-1167.1945 4515.6892,-1172.4349 4494.4501,-1148.7885 4484.3397,-1167.1945"/>
</g>
<!-- 25 -->
<g id="node11" class="node">
<title>25</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2160.3606,-2705.7 2160.3606,-2796.9 2266.5724,-2796.9 2266.5724,-2705.7 2160.3606,-2705.7"/>
<text text-anchor="middle" x="2213.4665" y="-2780.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="2213.4665" y="-2763.5" font-family="Times,serif" font-size="14.00" fill="#000000">RegistryEntities</text>
<polyline fill="none" stroke="#000000" points="2160.3606,-2755.3 2266.5724,-2755.3 "/>
<text text-anchor="middle" x="2213.4665" y="-2738.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2160.3606,-2730.5 2266.5724,-2730.5 "/>
<text text-anchor="middle" x="2213.4665" y="-2713.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 0&#45;&gt;25 -->
<g id="edge16" class="edge">
<title>0&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M3291.712,-1093.7589C3293.1026,-1105.9509 3294.3609,-1118.049 3295.4665,-1130 3314.5602,-1336.3912 3304.2116,-2119.5719 3284.4665,-2140 3229.4152,-2196.9555 2640.7428,-2135.8388 2572.4665,-2176 2370.6221,-2294.7281 2265.7075,-2576.2683 2228.9513,-2695.9385"/>
<polygon fill="#000000" stroke="#000000" points="2225.562,-2695.055 2226.0123,-2705.6402 2232.2613,-2697.0845 2225.562,-2695.055"/>
</g>
<!-- 11 -->
<g id="node22" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6454.2928,-1695.5 6454.2928,-1954.7 7180.6402,-1954.7 7180.6402,-1695.5 6454.2928,-1695.5"/>
<text text-anchor="middle" x="6817.4665" y="-1938.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="6817.4665" y="-1921.3" font-family="Times,serif" font-size="14.00" fill="#000000">IDerivativeLogic</text>
<polyline fill="none" stroke="#000000" points="6454.2928,-1913.1 7180.6402,-1913.1 "/>
<text text-anchor="middle" x="6817.4665" y="-1896.5" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="6454.2928,-1888.3 7180.6402,-1888.3 "/>
<text text-anchor="start" x="6462.2928" y="-1871.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6462.2928" y="-1854.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;validateInput(_derivative: LibDerivative.Derivative): bool</text>
<text text-anchor="start" x="6462.2928" y="-1838.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getSyntheticIdName(): string</text>
<text text-anchor="start" x="6462.2928" y="-1821.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getMargin(_derivative: LibDerivative.Derivative): (buyerMargin: uint256, sellerMargin: uint256)</text>
<text text-anchor="start" x="6462.2928" y="-1804.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getExecutionPayout(_derivative: LibDerivative.Derivative, _result: uint256): (buyerPayout: uint256, sellerPayout: uint256)</text>
<text text-anchor="start" x="6462.2928" y="-1787.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getAuthorAddress(): (authorAddress: address)</text>
<text text-anchor="start" x="6462.2928" y="-1770.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getAuthorCommission(): (commission: uint256)</text>
<text text-anchor="start" x="6462.2928" y="-1754.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;thirdpartyExecutionAllowed(_derivativeOwner: address): bool</text>
<text text-anchor="start" x="6462.2928" y="-1737.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;allowThirdpartyExecution(_allow: bool)</text>
<text text-anchor="start" x="6462.2928" y="-1720.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6462.2928" y="-1703.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogMetadataSet(metadata: string)</text>
</g>
<!-- 0&#45;&gt;11 -->
<g id="edge18" class="edge">
<title>0&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3383.6248,-1093.5284C3387.1066,-1105.7602 3390.3984,-1117.9334 3393.4665,-1130 3412.4616,-1204.7064 3379.1246,-1422.6853 3436.4665,-1474.2 3479.4122,-1512.7814 5457.2022,-1502.875 5514.4665,-1510.2 5832.5519,-1550.888 6185.7106,-1639.0047 6444.0348,-1711.706"/>
<polygon fill="#000000" stroke="#000000" points="6443.3779,-1715.1572 6453.9525,-1714.5027 6445.2778,-1708.4199 6443.3779,-1715.1572"/>
</g>
<!-- 12 -->
<g id="node23" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-1197.7 0,-1406.5 704.933,-1406.5 704.933,-1197.7 0,-1197.7"/>
<text text-anchor="middle" x="352.4665" y="-1389.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="352.4665" y="-1373.1" font-family="Times,serif" font-size="14.00" fill="#000000">IOpiumPositionToken</text>
<polyline fill="none" stroke="#000000" points="0,-1364.9 704.933,-1364.9 "/>
<text text-anchor="middle" x="352.4665" y="-1348.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="0,-1340.1 704.933,-1340.1 "/>
<text text-anchor="start" x="8" y="-1323.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-1306.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(_derivativeHash: bytes32, _positionType: LibDerivative.PositionType, _derivative: LibDerivative.Derivative)</text>
<text text-anchor="start" x="8" y="-1289.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(_positionOwner: address, _amount: uint256)</text>
<text text-anchor="start" x="8" y="-1273.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(_positionOwner: address, _amount: uint256)</text>
<text text-anchor="start" x="8" y="-1256.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getFactoryAddress(): address</text>
<text text-anchor="start" x="8" y="-1239.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getPositionTokenData(): (opiumPositionTokenParams: OpiumPositionTokenParams)</text>
<text text-anchor="start" x="8" y="-1222.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;safeTransfer(token: IERC20Upgradeable, to: address, value: uint256)</text>
<text text-anchor="start" x="8" y="-1205.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;safeTransferFrom(token: IERC20Upgradeable, from: address, to: address, value: uint256)</text>
</g>
<!-- 0&#45;&gt;12 -->
<g id="edge20" class="edge">
<title>0&#45;&gt;12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2530.7258,-735.9767C2023.7124,-809.2962 1316.9434,-935.3431 718.4665,-1130 665.8693,-1147.1074 610.9881,-1169.9811 560.2083,-1193.4527"/>
<polygon fill="#000000" stroke="#000000" points="558.6984,-1190.2949 551.1074,-1197.6859 561.6507,-1196.6419 558.6984,-1190.2949"/>
</g>
<!-- 14 -->
<g id="node26" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4583.938,-3522.7 4583.938,-3664.3 5006.995,-3664.3 5006.995,-3522.7 4583.938,-3522.7"/>
<text text-anchor="middle" x="4795.4665" y="-3647.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="4795.4665" y="-3630.9" font-family="Times,serif" font-size="14.00" fill="#000000">IOracleAggregator</text>
<polyline fill="none" stroke="#000000" points="4583.938,-3622.7 5006.995,-3622.7 "/>
<text text-anchor="middle" x="4795.4665" y="-3606.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="4583.938,-3597.9 5006.995,-3597.9 "/>
<text text-anchor="start" x="4591.938" y="-3581.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4591.938" y="-3564.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;__callback(timestamp: uint256, data: uint256)</text>
<text text-anchor="start" x="4591.938" y="-3547.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getData(oracleId: address, timestamp: uint256): (dataResult: uint256)</text>
<text text-anchor="start" x="4591.938" y="-3530.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;hasData(oracleId: address, timestamp: uint256): bool</text>
</g>
<!-- 0&#45;&gt;14 -->
<g id="edge21" class="edge">
<title>0&#45;&gt;14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3306.4816,-1093.5802C3350.7108,-1288.1447 3392.9871,-1473.6969 3393.4665,-1474.2 3434.5294,-1517.2923 3474.9804,-1474.3088 3522.4665,-1510.2 4264.6601,-2071.1685 4669.959,-3201.6675 4770.4645,-3512.7017"/>
<polygon fill="#000000" stroke="#000000" points="4767.236,-3514.0952 4773.6308,-3522.5425 4773.8996,-3511.9511 4767.236,-3514.0952"/>
</g>
<!-- 15 -->
<g id="node27" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2377.2271,-1510.7 2377.2271,-2139.5 3275.7059,-2139.5 3275.7059,-1510.7 2377.2271,-1510.7"/>
<text text-anchor="middle" x="2826.4665" y="-2122.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2826.4665" y="-2106.1" font-family="Times,serif" font-size="14.00" fill="#000000">IRegistry</text>
<polyline fill="none" stroke="#000000" points="2377.2271,-2097.9 3275.7059,-2097.9 "/>
<text text-anchor="middle" x="2826.4665" y="-2081.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2377.2271,-2073.1 3275.7059,-2073.1 "/>
<text text-anchor="start" x="2385.2271" y="-2056.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2385.2271" y="-2039.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(_governor: address)</text>
<text text-anchor="start" x="2385.2271" y="-2022.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setProtocolAddresses(_opiumProxyFactory: address, _core: address, _oracleAggregator: address, _syntheticAggregator: address, _tokenSpender: address)</text>
<text text-anchor="start" x="2385.2271" y="-2006.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setNoDataCancellationPeriod(_noDataCancellationPeriod: uint32)</text>
<text text-anchor="start" x="2385.2271" y="-1989.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;addToWhitelist(_whitelisted: address)</text>
<text text-anchor="start" x="2385.2271" y="-1972.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;removeFromWhitelist(_whitelisted: address)</text>
<text text-anchor="start" x="2385.2271" y="-1955.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setProtocolExecutionReserveClaimer(_protocolExecutionReserveClaimer: address)</text>
<text text-anchor="start" x="2385.2271" y="-1938.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setProtocolRedemptionReserveClaimer(_protocolRedemptionReserveClaimer: address)</text>
<text text-anchor="start" x="2385.2271" y="-1922.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setProtocolExecutionReservePart(_protocolExecutionReservePart: uint32)</text>
<text text-anchor="start" x="2385.2271" y="-1905.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setDerivativeAuthorExecutionFeeCap(_derivativeAuthorExecutionFeeCap: uint32)</text>
<text text-anchor="start" x="2385.2271" y="-1888.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setProtocolRedemptionReservePart(_protocolRedemptionReservePart: uint32)</text>
<text text-anchor="start" x="2385.2271" y="-1871.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;setDerivativeAuthorRedemptionReservePart(_derivativeAuthorRedemptionReservePart: uint32)</text>
<text text-anchor="start" x="2385.2271" y="-1854.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="2385.2271" y="-1838.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pauseProtocolPositionCreation()</text>
<text text-anchor="start" x="2385.2271" y="-1821.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pauseProtocolPositionMinting()</text>
<text text-anchor="start" x="2385.2271" y="-1804.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pauseProtocolPositionRedemption()</text>
<text text-anchor="start" x="2385.2271" y="-1787.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pauseProtocolPositionExecution()</text>
<text text-anchor="start" x="2385.2271" y="-1770.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pauseProtocolPositionCancellation()</text>
<text text-anchor="start" x="2385.2271" y="-1754.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;pauseProtocolReserveClaim()</text>
<text text-anchor="start" x="2385.2271" y="-1737.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;unpause()</text>
<text text-anchor="start" x="2385.2271" y="-1720.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getProtocolParameters(): RegistryEntities.ProtocolParametersArgs</text>
<text text-anchor="start" x="2385.2271" y="-1703.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getProtocolAddresses(): RegistryEntities.ProtocolAddressesArgs</text>
<text text-anchor="start" x="2385.2271" y="-1686.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isRegistryManager(_address: address): bool</text>
<text text-anchor="start" x="2385.2271" y="-1670.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isCoreConfigurationUpdater(_address: address): bool</text>
<text text-anchor="start" x="2385.2271" y="-1653.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getCore(): address</text>
<text text-anchor="start" x="2385.2271" y="-1636.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isCoreSpenderWhitelisted(_address: address): bool</text>
<text text-anchor="start" x="2385.2271" y="-1619.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isProtocolPaused(): bool</text>
<text text-anchor="start" x="2385.2271" y="-1602.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isProtocolPositionCreationPaused(): bool</text>
<text text-anchor="start" x="2385.2271" y="-1586.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isProtocolPositionMintingPaused(): bool</text>
<text text-anchor="start" x="2385.2271" y="-1569.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isProtocolPositionRedemptionPaused(): bool</text>
<text text-anchor="start" x="2385.2271" y="-1552.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isProtocolPositionExecutionPaused(): bool</text>
<text text-anchor="start" x="2385.2271" y="-1535.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isProtocolPositionCancellationPaused(): bool</text>
<text text-anchor="start" x="2385.2271" y="-1518.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isProtocolReserveClaimPaused(): bool</text>
</g>
<!-- 0&#45;&gt;15 -->
<g id="edge17" class="edge">
<title>0&#45;&gt;15</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2939.1389,-1093.5428C2934.2887,-1105.705 2929.7161,-1117.8696 2925.4665,-1130 2884.356,-1247.349 2860.2891,-1381.5435 2846.2104,-1500.5266"/>
<polygon fill="#000000" stroke="#000000" points="2842.7264,-1500.1869 2845.0466,-1510.5246 2849.6795,-1500.9964 2842.7264,-1500.1869"/>
</g>
<!-- 16 -->
<g id="node28" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="#000000" points="897.9856,-3522.7 897.9856,-3664.3 1628.9474,-3664.3 1628.9474,-3522.7 897.9856,-3522.7"/>
<text text-anchor="middle" x="1263.4665" y="-3647.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1263.4665" y="-3630.9" font-family="Times,serif" font-size="14.00" fill="#000000">ISyntheticAggregator</text>
<polyline fill="none" stroke="#000000" points="897.9856,-3622.7 1628.9474,-3622.7 "/>
<text text-anchor="middle" x="1263.4665" y="-3606.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="897.9856,-3597.9 1628.9474,-3597.9 "/>
<text text-anchor="start" x="905.9856" y="-3581.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="905.9856" y="-3564.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(_registry: address)</text>
<text text-anchor="start" x="905.9856" y="-3547.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getSyntheticCache(_derivativeHash: bytes32, _derivative: LibDerivative.Derivative): SyntheticCache</text>
<text text-anchor="start" x="905.9856" y="-3530.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getMargin(_derivativeHash: bytes32, _derivative: LibDerivative.Derivative): (buyerMargin: uint256, sellerMargin: uint256)</text>
</g>
<!-- 0&#45;&gt;16 -->
<g id="edge19" class="edge">
<title>0&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2530.7412,-830.5312C2177.3924,-959.5463 1771.6022,-1172.2942 1541.4665,-1510.2 1313.1001,-1845.5079 1447.4678,-2930.7953 1358.4665,-3326.6 1344.0167,-3390.8609 1318.6887,-3460.9257 1297.8174,-3513.138"/>
<polygon fill="#000000" stroke="#000000" points="1294.4661,-3512.0905 1293.9758,-3522.674 1300.959,-3514.7063 1294.4661,-3512.0905"/>
</g>
<!-- 19 -->
<g id="node32" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="#000000" points="517.2291,-3514.3 517.2291,-3672.7 879.7039,-3672.7 879.7039,-3514.3 517.2291,-3514.3"/>
<text text-anchor="middle" x="698.4665" y="-3656.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="698.4665" y="-3639.3" font-family="Times,serif" font-size="14.00" fill="#000000">LibCalculator</text>
<polyline fill="none" stroke="#000000" points="517.2291,-3631.1 879.7039,-3631.1 "/>
<text text-anchor="start" x="525.2291" y="-3614.5" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="525.2291" y="-3597.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PERCENTAGE_BASE: uint256</text>
<text text-anchor="start" x="525.2291" y="-3580.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;MAX_REDEMPTION_PART: uint256</text>
<polyline fill="none" stroke="#000000" points="517.2291,-3572.7 879.7039,-3572.7 "/>
<text text-anchor="start" x="525.2291" y="-3556.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="525.2291" y="-3539.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mulWithPrecisionFactor(_x: uint256, _y: uint256): uint256</text>
<text text-anchor="start" x="525.2291" y="-3522.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;modWithPrecisionFactor(_x: uint256): uint256</text>
</g>
<!-- 0&#45;&gt;19 -->
<g id="edge14" class="edge">
<title>0&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2530.8844,-691.8035C1886.1337,-744.3726 980.6818,-864.3652 756.4665,-1130 678.4989,-1222.3706 692.9983,-3072.2336 697.4601,-3503.9651"/>
<polygon fill="#000000" stroke="#000000" points="693.9626,-3504.2395 697.5667,-3514.2024 700.9622,-3504.1664 693.9626,-3504.2395"/>
</g>
<!-- 20 -->
<g id="node33" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2384.4071,-3860.9 2384.4071,-3968.9 2810.5259,-3968.9 2810.5259,-3860.9 2384.4071,-3860.9"/>
<text text-anchor="middle" x="2597.4665" y="-3952.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="2597.4665" y="-3935.5" font-family="Times,serif" font-size="14.00" fill="#000000">LibDerivative</text>
<polyline fill="none" stroke="#000000" points="2384.4071,-3927.3 2810.5259,-3927.3 "/>
<text text-anchor="middle" x="2597.4665" y="-3910.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2384.4071,-3902.5 2810.5259,-3902.5 "/>
<text text-anchor="start" x="2392.4071" y="-3885.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="2392.4071" y="-3869.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getDerivativeHash(_derivative: Derivative): (derivativeHash: bytes32)</text>
</g>
<!-- 0&#45;&gt;20 -->
<g id="edge13" class="edge">
<title>0&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2530.9081,-791.4173C2149.0595,-880.7106 1719.081,-1003.4919 1570.4665,-1130 733.7584,-1842.2476 750.4039,-2290.7589 508.4665,-3362.6 463.2754,-3562.8075 366.5122,-3676.1628 508.4665,-3824.4 572.1655,-3890.9184 1847.9773,-3908.8477 2373.851,-3913.4216"/>
<polygon fill="#000000" stroke="#000000" points="2374.19,-3916.9245 2384.2198,-3913.5109 2374.2503,-3909.9248 2374.19,-3916.9245"/>
</g>
<!-- 21 -->
<g id="node36" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3445.2394,-1206.1 3445.2394,-1398.1 4415.6936,-1398.1 4415.6936,-1206.1 3445.2394,-1206.1"/>
<text text-anchor="middle" x="3930.4665" y="-1381.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="3930.4665" y="-1364.7" font-family="Times,serif" font-size="14.00" fill="#000000">LibPosition</text>
<polyline fill="none" stroke="#000000" points="3445.2394,-1356.5 4415.6936,-1356.5 "/>
<text text-anchor="middle" x="3930.4665" y="-1339.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3445.2394,-1331.7 4415.6936,-1331.7 "/>
<text text-anchor="start" x="3453.2394" y="-1315.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="3453.2394" y="-1298.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_predictDeterministicAddress(_derivativeHash: bytes32, _isLong: bool, _positionImplementationAddress: address, _factoryAddress: address): address</text>
<text text-anchor="start" x="3453.2394" y="-1281.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_isContract(_address: address): bool</text>
<text text-anchor="start" x="3453.2394" y="-1264.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="3453.2394" y="-1247.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;predictDeterministicAddress(_derivativeHash: bytes32, _isLong: bool, _positionImplementationAddress: address, _factoryAddress: address): address</text>
<text text-anchor="start" x="3453.2394" y="-1231.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;predictAndCheckDeterministicAddress(_derivativeHash: bytes32, _isLong: bool, _positionImplementationAddress: address, _factoryAddress: address): (address, bool)</text>
<text text-anchor="start" x="3453.2394" y="-1214.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;deployOpiumPosition(_derivativeHash: bytes32, _isLong: bool, _positionImplementationAddress: address): address</text>
</g>
<!-- 0&#45;&gt;21 -->
<g id="edge15" class="edge">
<title>0&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3697.9022,-1093.6273C3740.8473,-1132.1236 3780.9935,-1168.1111 3815.4381,-1198.9875"/>
<polygon fill="#000000" stroke="#000000" points="3813.3717,-1201.8356 3823.1542,-1205.9043 3818.0442,-1196.6232 3813.3717,-1201.8356"/>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4995.75,-1138.9 4995.75,-1465.3 5697.183,-1465.3 5697.183,-1138.9 4995.75,-1138.9"/>
<text text-anchor="middle" x="5346.4665" y="-1448.7" font-family="Times,serif" font-size="14.00" fill="#000000">OpiumPositionToken</text>
<polyline fill="none" stroke="#000000" points="4995.75,-1440.5 5697.183,-1440.5 "/>
<text text-anchor="start" x="5003.75" y="-1423.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5003.75" y="-1407.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;factory: address</text>
<text text-anchor="start" x="5003.75" y="-1390.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;opiumPositionTokenParams: OpiumPositionTokenParams</text>
<text text-anchor="start" x="5003.75" y="-1373.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;__gap: uint256[]</text>
<polyline fill="none" stroke="#000000" points="4995.75,-1365.3 5697.183,-1365.3 "/>
<text text-anchor="start" x="5003.75" y="-1348.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5003.75" y="-1331.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_toDerivativeHashStringIdentifier(_data: bytes32): string</text>
<text text-anchor="start" x="5003.75" y="-1315.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_toDerivativeEndTimeIdentifier(_derivativeEndTime: uint256): bytes</text>
<text text-anchor="start" x="5003.75" y="-1298.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5003.75" y="-1281.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_derivativeHash: bytes32, _positionType: LibDerivative.PositionType, _derivative: LibDerivative.Derivative)</text>
<text text-anchor="start" x="5003.75" y="-1264.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(_positionOwner: address, _amount: uint256)</text>
<text text-anchor="start" x="5003.75" y="-1247.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(_positionOwner: address, _amount: uint256)</text>
<text text-anchor="start" x="5003.75" y="-1231.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getFactoryAddress(): address</text>
<text text-anchor="start" x="5003.75" y="-1214.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getPositionTokenData(): (_opiumPositionTokenParams: OpiumPositionTokenParams)</text>
<text text-anchor="start" x="5003.75" y="-1197.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5003.75" y="-1180.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyFactory()</text>
<text text-anchor="start" x="5003.75" y="-1163.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;name(): string</text>
<text text-anchor="start" x="5003.75" y="-1147.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;symbol(): string</text>
</g>
<!-- 1&#45;&gt;11 -->
<g id="edge23" class="edge">
<title>1&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5684.5639,-1465.3862C5691.9101,-1468.3966 5699.2174,-1471.3387 5706.4665,-1474.2 5947.9397,-1569.5104 6226.5309,-1657.4502 6444.3314,-1721.4545"/>
<polygon fill="#000000" stroke="#000000" points="6443.4235,-1724.8356 6454.0044,-1724.2931 6445.3946,-1718.1188 6443.4235,-1724.8356"/>
</g>
<!-- 18 -->
<g id="node31" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4995.7473,-1745.9 4995.7473,-1904.3 5505.1857,-1904.3 5505.1857,-1745.9 4995.7473,-1745.9"/>
<text text-anchor="middle" x="5250.4665" y="-1887.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="5250.4665" y="-1870.9" font-family="Times,serif" font-size="14.00" fill="#000000">BokkyPooBahsDateTimeLibrary</text>
<polyline fill="none" stroke="#000000" points="4995.7473,-1862.7 5505.1857,-1862.7 "/>
<text text-anchor="start" x="5003.7473" y="-1846.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5003.7473" y="-1829.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;SECONDS_PER_DAY: uint256</text>
<text text-anchor="start" x="5003.7473" y="-1812.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;OFFSET19700101: int256</text>
<polyline fill="none" stroke="#000000" points="4995.7473,-1804.3 5505.1857,-1804.3 "/>
<text text-anchor="start" x="5003.7473" y="-1787.7" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="5003.7473" y="-1770.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_daysToDate(_days: uint256): (year: uint256, month: uint256, day: uint256)</text>
<text text-anchor="start" x="5003.7473" y="-1754.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;timestampToDate(timestamp: uint256): (year: uint256, month: uint256, day: uint256)</text>
</g>
<!-- 1&#45;&gt;18 -->
<g id="edge24" class="edge">
<title>1&#45;&gt;18</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5316.4864,-1465.4292C5300.1192,-1554.5965 5280.4819,-1661.5785 5266.9011,-1735.5657"/>
<polygon fill="#000000" stroke="#000000" points="5263.3889,-1735.3138 5265.0259,-1745.7813 5270.2739,-1736.5776 5263.3889,-1735.3138"/>
</g>
<!-- 1&#45;&gt;20 -->
<g id="edge22" class="edge">
<title>1&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M5493.8015,-1465.3351C5501.9798,-1479.8537 5509.0532,-1494.8768 5514.4665,-1510.2 5607.7049,-1774.1258 5552.0502,-1862.6236 5514.4665,-2140 5410.1889,-2909.5924 5658.6034,-3342.6339 5049.4665,-3824.4 4962.9107,-3892.8569 3409.4908,-3909.7864 2820.9621,-3913.7518"/>
<polygon fill="#000000" stroke="#000000" points="2820.6334,-3910.2538 2810.657,-3913.8206 2820.6801,-3917.2536 2820.6334,-3910.2538"/>
</g>
<!-- 1struct0 -->
<g id="node3" class="node">
<title>1struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5219.4833,-603.1 5219.4833,-703.1 5473.4497,-703.1 5473.4497,-603.1 5219.4833,-603.1"/>
<text text-anchor="middle" x="5346.4665" y="-686.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5346.4665" y="-669.7" font-family="Times,serif" font-size="14.00" fill="#000000">OpiumPositionTokenParams</text>
<polyline fill="none" stroke="#000000" points="5219.4833,-661.5 5473.4497,-661.5 "/>
<text text-anchor="start" x="5227.4833" y="-644.9" font-family="Times,serif" font-size="14.00" fill="#000000">derivative: LibDerivative.Derivative</text>
<text text-anchor="start" x="5227.4833" y="-628.1" font-family="Times,serif" font-size="14.00" fill="#000000">positionType: LibDerivative.PositionType</text>
<text text-anchor="start" x="5227.4833" y="-611.3" font-family="Times,serif" font-size="14.00" fill="#000000">derivativeHash: bytes32</text>
</g>
<!-- 1struct0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>1struct0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M5346.4665,-703.2168C5346.4665,-792.7041 5346.4665,-983.9344 5346.4665,-1126.3654"/>
<polygon fill="#000000" stroke="#000000" points="5346.4666,-1126.691 5350.4665,-1132.6911 5346.4665,-1138.691 5342.4665,-1132.691 5346.4666,-1126.691"/>
</g>
<!-- 2 -->
<g id="node4" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4463.0642,-523.5 4463.0642,-782.7 5201.8688,-782.7 5201.8688,-523.5 4463.0642,-523.5"/>
<text text-anchor="middle" x="4832.4665" y="-766.1" font-family="Times,serif" font-size="14.00" fill="#000000">OpiumProxyFactory</text>
<polyline fill="none" stroke="#000000" points="4463.0642,-757.9 5201.8688,-757.9 "/>
<text text-anchor="start" x="4471.0642" y="-741.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="4471.0642" y="-724.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;opiumPositionTokenImplementation: address</text>
<text text-anchor="start" x="4471.0642" y="-707.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;__gap: uint256[]</text>
<polyline fill="none" stroke="#000000" points="4463.0642,-699.5 5201.8688,-699.5 "/>
<text text-anchor="start" x="4471.0642" y="-682.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4471.0642" y="-666.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getImplementationAddress(): address</text>
<text text-anchor="start" x="4471.0642" y="-649.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_registry: address)</text>
<text text-anchor="start" x="4471.0642" y="-632.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;create(_buyer: address, _seller: address, _amount: uint256, _derivativeHash: bytes32, _derivative: LibDerivative.Derivative)</text>
<text text-anchor="start" x="4471.0642" y="-615.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mintPair(_buyer: address, _seller: address, _longPositionAddress: address, _shortPositionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="4471.0642" y="-598.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burn(_positionOwner: address, _positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="4471.0642" y="-582.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;burnPair(_positionOwner: address, _longPositionAddress: address, _shortPositionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="4471.0642" y="-565.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="4471.0642" y="-548.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogPositionTokenPair(_derivativeHash: bytes32, _longPositionAddress: address, _shortPositionAddress: address)</text>
<text text-anchor="start" x="4471.0642" y="-531.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyCore()</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge28" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4935.2467,-782.875C5014.3454,-882.7487 5124.3729,-1021.6744 5210.7141,-1130.6928"/>
<polygon fill="#000000" stroke="#000000" points="5208.1985,-1133.1538 5217.1508,-1138.8201 5213.6859,-1128.8078 5208.1985,-1133.1538"/>
</g>
<!-- 2&#45;&gt;23 -->
<g id="edge25" class="edge">
<title>2&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M4803.2721,-782.875C4779.9657,-886.4768 4747.206,-1032.1005 4722.309,-1142.7726"/>
<polygon fill="none" stroke="#000000" points="4712.0131,-1140.6995 4715.6727,-1172.2725 4732.501,-1145.3085 4712.0131,-1140.6995"/>
</g>
<!-- 2&#45;&gt;12 -->
<g id="edge29" class="edge">
<title>2&#45;&gt;12</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4762.644,-782.8958C4698.116,-888.0298 4591.5743,-1028.9828 4454.4665,-1094 4377.6932,-1130.4063 3010.3478,-1126.1638 2925.4665,-1130 2136.6205,-1165.6516 1213.38,-1233.872 715.3997,-1272.8588"/>
<polygon fill="#000000" stroke="#000000" points="714.8736,-1269.3892 705.1776,-1273.6596 715.4204,-1276.3678 714.8736,-1269.3892"/>
</g>
<!-- 2&#45;&gt;20 -->
<g id="edge26" class="edge">
<title>2&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4871.7627,-782.7654C4898.6803,-877.8899 4932.324,-1010.7294 4948.4665,-1130 4953.4872,-1167.0959 5042.4369,-3797.4398 5016.4665,-3824.4 4978.6556,-3863.652 3412.9533,-3898.729 2821.0047,-3910.6119"/>
<polygon fill="#000000" stroke="#000000" points="2820.5679,-3907.1199 2810.64,-3910.8196 2820.7082,-3914.1184 2820.5679,-3907.1199"/>
</g>
<!-- 2&#45;&gt;21 -->
<g id="edge27" class="edge">
<title>2&#45;&gt;21</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M4747.4682,-782.7296C4678.3696,-879.5565 4573.1415,-1009.2684 4454.4665,-1094 4393.9512,-1137.2067 4323.2107,-1173.0951 4253.6419,-1202.204"/>
<polygon fill="#000000" stroke="#000000" points="4252.1777,-1199.022 4244.2795,-1206.0838 4254.8576,-1205.4887 4252.1777,-1199.022"/>
</g>
<!-- 3 -->
<g id="node5" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9194.2354,-548.7 9194.2354,-757.5 9710.6976,-757.5 9710.6976,-548.7 9194.2354,-548.7"/>
<text text-anchor="middle" x="9452.4665" y="-740.9" font-family="Times,serif" font-size="14.00" fill="#000000">OracleAggregator</text>
<polyline fill="none" stroke="#000000" points="9194.2354,-732.7 9710.6976,-732.7 "/>
<text text-anchor="start" x="9202.2354" y="-716.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="9202.2354" y="-699.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;dataCache: mapping(address=&gt;mapping(uint256=&gt;uint256))</text>
<text text-anchor="start" x="9202.2354" y="-682.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;dataExist: mapping(address=&gt;mapping(uint256=&gt;bool))</text>
<text text-anchor="start" x="9202.2354" y="-665.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;__gap: uint256[]</text>
<polyline fill="none" stroke="#000000" points="9194.2354,-657.5 9710.6976,-657.5 "/>
<text text-anchor="start" x="9202.2354" y="-640.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9202.2354" y="-624.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;__callback(timestamp: uint256, data: uint256)</text>
<text text-anchor="start" x="9202.2354" y="-607.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getData(oracleId: address, timestamp: uint256): (dataResult: uint256)</text>
<text text-anchor="start" x="9202.2354" y="-590.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9202.2354" y="-573.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogDataProvided(_oracleId: address, _timestamp: uint256, _data: uint256)</text>
<text text-anchor="start" x="9202.2354" y="-556.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;hasData(oracleId: address, timestamp: uint256): (result: bool)</text>
</g>
<!-- 4 -->
<g id="node6" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5491.7356,-540.3 5491.7356,-765.9 6219.1974,-765.9 6219.1974,-540.3 5491.7356,-540.3"/>
<text text-anchor="middle" x="5855.4665" y="-749.3" font-family="Times,serif" font-size="14.00" fill="#000000">SyntheticAggregator</text>
<polyline fill="none" stroke="#000000" points="5491.7356,-741.1 6219.1974,-741.1 "/>
<text text-anchor="start" x="5499.7356" y="-724.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5499.7356" y="-707.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;syntheticCaches: mapping(bytes32=&gt;SyntheticCache)</text>
<text text-anchor="start" x="5499.7356" y="-690.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;__gap: uint256[]</text>
<polyline fill="none" stroke="#000000" points="5491.7356,-682.7 6219.1974,-682.7 "/>
<text text-anchor="start" x="5499.7356" y="-666.1" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5499.7356" y="-649.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_initDerivative(_derivativeHash: bytes32, _derivative: LibDerivative.Derivative)</text>
<text text-anchor="start" x="5499.7356" y="-632.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5499.7356" y="-615.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_registry: address)</text>
<text text-anchor="start" x="5499.7356" y="-598.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMargin(_derivativeHash: bytes32, _derivative: LibDerivative.Derivative): (buyerMargin: uint256, sellerMargin: uint256)</text>
<text text-anchor="start" x="5499.7356" y="-582.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSyntheticCache(_derivativeHash: bytes32, _derivative: LibDerivative.Derivative): SyntheticCache</text>
<text text-anchor="start" x="5499.7356" y="-565.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5499.7356" y="-548.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogSyntheticInit(derivative: LibDerivative.Derivative, derivativeHash: bytes32)</text>
</g>
<!-- 4&#45;&gt;23 -->
<g id="edge30" class="edge">
<title>4&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M5795.2595,-766.1419C5732.4828,-871.3036 5623.5538,-1022.2362 5482.4665,-1094 5383.9645,-1144.1029 5092.1519,-1097.6961 4986.4665,-1130 4961.2993,-1137.6926 4935.9564,-1147.7956 4911.2355,-1159.2582"/>
<polygon fill="none" stroke="#000000" points="4906.534,-1149.8688 4884.1649,-1172.4492 4915.733,-1168.7468 4906.534,-1149.8688"/>
</g>
<!-- 4&#45;&gt;11 -->
<g id="edge32" class="edge">
<title>4&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6219.2986,-733.7817C6573.0476,-820.4724 7073.2758,-967.827 7187.4665,-1130 7231.5031,-1192.5406 7217.6709,-1403.9273 7187.4665,-1474.2 7151.4483,-1557.999 7084.4919,-1631.183 7017.3339,-1688.723"/>
<polygon fill="#000000" stroke="#000000" points="7014.934,-1686.169 7009.57,-1695.3057 7019.4609,-1691.5083 7014.934,-1686.169"/>
</g>
<!-- 4&#45;&gt;20 -->
<g id="edge31" class="edge">
<title>4&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6219.4994,-732.1369C6580.0945,-818.5045 7095.5161,-966.5332 7216.4665,-1130 7262.4418,-1192.1365 7244.4665,-1747.804 7244.4665,-1825.1 7244.4665,-1825.1 7244.4665,-1825.1 7244.4665,-2751.3 7244.4665,-3544.4833 6567.1382,-3562.426 5818.4665,-3824.4 5677.4191,-3873.7551 3527.4227,-3903.773 2820.7093,-3912.3461"/>
<polygon fill="#000000" stroke="#000000" points="2820.6239,-3908.8468 2810.667,-3912.4677 2820.7087,-3915.8463 2820.6239,-3908.8468"/>
</g>
<!-- 4struct0 -->
<g id="node7" class="node">
<title>4struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5562.1036,-21.3 5562.1036,-154.9 5734.8294,-154.9 5734.8294,-21.3 5562.1036,-21.3"/>
<text text-anchor="middle" x="5648.4665" y="-138.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="5648.4665" y="-121.5" font-family="Times,serif" font-size="14.00" fill="#000000">SyntheticCache</text>
<polyline fill="none" stroke="#000000" points="5562.1036,-113.3 5734.8294,-113.3 "/>
<text text-anchor="start" x="5570.1036" y="-96.7" font-family="Times,serif" font-size="14.00" fill="#000000">buyerMargin: uint256</text>
<text text-anchor="start" x="5570.1036" y="-79.9" font-family="Times,serif" font-size="14.00" fill="#000000">sellerMargin: uint256</text>
<text text-anchor="start" x="5570.1036" y="-63.1" font-family="Times,serif" font-size="14.00" fill="#000000">authorCommission: uint256</text>
<text text-anchor="start" x="5570.1036" y="-46.3" font-family="Times,serif" font-size="14.00" fill="#000000">authorAddress: address</text>
<text text-anchor="start" x="5570.1036" y="-29.5" font-family="Times,serif" font-size="14.00" fill="#000000">init: bool</text>
</g>
<!-- 4struct0&#45;&gt;4 -->
<g id="edge2" class="edge">
<title>4struct0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5673.025,-155.1316C5706.683,-247.0001 5767.7631,-413.7163 5809.9177,-528.7761"/>
<polygon fill="#000000" stroke="#000000" points="5809.9361,-528.8264 5815.7561,-533.0841 5814.0643,-540.094 5808.2443,-535.8362 5809.9361,-528.8264"/>
</g>
<!-- 5 -->
<g id="node8" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3899.6957,-573.9 3899.6957,-732.3 4445.2373,-732.3 4445.2373,-573.9 3899.6957,-573.9"/>
<text text-anchor="middle" x="4172.4665" y="-715.7" font-family="Times,serif" font-size="14.00" fill="#000000">TokenSpender</text>
<polyline fill="none" stroke="#000000" points="3899.6957,-707.5 4445.2373,-707.5 "/>
<text text-anchor="start" x="3907.6957" y="-690.9" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="3907.6957" y="-674.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;__gap: uint256[]</text>
<polyline fill="none" stroke="#000000" points="3899.6957,-665.9 4445.2373,-665.9 "/>
<text text-anchor="start" x="3907.6957" y="-649.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3907.6957" y="-632.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_registry: address)</text>
<text text-anchor="start" x="3907.6957" y="-615.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;claimTokens(_token: IERC20Upgradeable, _from: address, _to: address, _amount: uint256)</text>
<text text-anchor="start" x="3907.6957" y="-598.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="3907.6957" y="-582.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyCoreSpenders()</text>
</g>
<!-- 5&#45;&gt;23 -->
<g id="edge33" class="edge">
<title>5&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M4214.4843,-732.3415C4265.063,-824.1467 4355.621,-977.6749 4454.4665,-1094 4470.9871,-1113.4421 4489.2928,-1132.7822 4508.1656,-1151.3983"/>
<polygon fill="none" stroke="#000000" points="4501.177,-1159.2451 4530.0764,-1172.4768 4515.736,-1144.1112 4501.177,-1159.2451"/>
</g>
<!-- 23&#45;&gt;15 -->
<g id="edge34" class="edge">
<title>23&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M4517.4417,-1431.8419C4487.8015,-1448.9974 4456.2361,-1464.1106 4424.4665,-1474.2 4198.9844,-1545.8085 3587.6146,-1444.0661 3360.4665,-1510.2 3335.3826,-1517.5031 3310.2546,-1526.2525 3285.3162,-1536.1082"/>
<polygon fill="#000000" stroke="#000000" points="3283.7457,-1532.967 3275.7681,-1539.939 3286.3523,-1539.4637 3283.7457,-1532.967"/>
</g>
<!-- 24 -->
<g id="node10" class="node">
<title>24</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2580.9771,-2176.5 2580.9771,-3326.1 3475.9559,-3326.1 3475.9559,-2176.5 2580.9771,-2176.5"/>
<text text-anchor="middle" x="3028.4665" y="-3309.5" font-family="Times,serif" font-size="14.00" fill="#000000">Registry</text>
<polyline fill="none" stroke="#000000" points="2580.9771,-3301.3 3475.9559,-3301.3 "/>
<text text-anchor="start" x="2588.9771" y="-3284.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="2588.9771" y="-3267.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;protocolParametersArgs: RegistryEntities.ProtocolParametersArgs</text>
<text text-anchor="start" x="2588.9771" y="-3251.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;protocolAddressesArgs: RegistryEntities.ProtocolAddressesArgs</text>
<text text-anchor="start" x="2588.9771" y="-3234.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;protocolPausabilityArgs: RegistryEntities.ProtocolPausabilityArgs</text>
<text text-anchor="start" x="2588.9771" y="-3217.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;coreSpenderWhitelist: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="2588.9771" y="-3200.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;__gap: uint256[]</text>
<polyline fill="none" stroke="#000000" points="2580.9771,-3192.5 3475.9559,-3192.5 "/>
<text text-anchor="start" x="2588.9771" y="-3175.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2588.9771" y="-3159.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_governor: address)</text>
<text text-anchor="start" x="2588.9771" y="-3142.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setProtocolAddresses(_opiumProxyFactory: address, _core: address, _oracleAggregator: address, _syntheticAggregator: address, _tokenSpender: address)</text>
<text text-anchor="start" x="2588.9771" y="-3125.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setNoDataCancellationPeriod(_noDataCancellationPeriod: uint32)</text>
<text text-anchor="start" x="2588.9771" y="-3108.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;addToWhitelist(_whitelisted: address)</text>
<text text-anchor="start" x="2588.9771" y="-3091.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;removeFromWhitelist(_whitelisted: address)</text>
<text text-anchor="start" x="2588.9771" y="-3075.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setProtocolExecutionReserveClaimer(_protocolExecutionReserveClaimer: address)</text>
<text text-anchor="start" x="2588.9771" y="-3058.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setProtocolRedemptionReserveClaimer(_protocolRedemptionReserveClaimer: address)</text>
<text text-anchor="start" x="2588.9771" y="-3041.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setProtocolExecutionReservePart(_protocolExecutionReservePart: uint32)</text>
<text text-anchor="start" x="2588.9771" y="-3024.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDerivativeAuthorExecutionFeeCap(_derivativeAuthorExecutionFeeCap: uint32)</text>
<text text-anchor="start" x="2588.9771" y="-3007.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setProtocolRedemptionReservePart(_protocolRedemptionReservePart: uint32)</text>
<text text-anchor="start" x="2588.9771" y="-2991.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setDerivativeAuthorRedemptionReservePart(_derivativeAuthorRedemptionReservePart: uint32)</text>
<text text-anchor="start" x="2588.9771" y="-2974.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pause()</text>
<text text-anchor="start" x="2588.9771" y="-2957.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pauseProtocolPositionCreation()</text>
<text text-anchor="start" x="2588.9771" y="-2940.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pauseProtocolPositionMinting()</text>
<text text-anchor="start" x="2588.9771" y="-2923.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pauseProtocolPositionRedemption()</text>
<text text-anchor="start" x="2588.9771" y="-2907.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pauseProtocolPositionExecution()</text>
<text text-anchor="start" x="2588.9771" y="-2890.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pauseProtocolPositionCancellation()</text>
<text text-anchor="start" x="2588.9771" y="-2873.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;pauseProtocolReserveClaim()</text>
<text text-anchor="start" x="2588.9771" y="-2856.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;unpause()</text>
<text text-anchor="start" x="2588.9771" y="-2839.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getProtocolParameters(): RegistryEntities.ProtocolParametersArgs</text>
<text text-anchor="start" x="2588.9771" y="-2823.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getProtocolAddresses(): RegistryEntities.ProtocolAddressesArgs</text>
<text text-anchor="start" x="2588.9771" y="-2806.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isRegistryManager(_address: address): bool</text>
<text text-anchor="start" x="2588.9771" y="-2789.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isCoreConfigurationUpdater(_address: address): bool</text>
<text text-anchor="start" x="2588.9771" y="-2772.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getCore(): address</text>
<text text-anchor="start" x="2588.9771" y="-2755.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isCoreSpenderWhitelisted(_address: address): bool</text>
<text text-anchor="start" x="2588.9771" y="-2739.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isProtocolPaused(): bool</text>
<text text-anchor="start" x="2588.9771" y="-2722.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isProtocolPositionCreationPaused(): bool</text>
<text text-anchor="start" x="2588.9771" y="-2705.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isProtocolPositionMintingPaused(): bool</text>
<text text-anchor="start" x="2588.9771" y="-2688.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isProtocolPositionRedemptionPaused(): bool</text>
<text text-anchor="start" x="2588.9771" y="-2671.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isProtocolPositionExecutionPaused(): bool</text>
<text text-anchor="start" x="2588.9771" y="-2655.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isProtocolPositionCancellationPaused(): bool</text>
<text text-anchor="start" x="2588.9771" y="-2638.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;isProtocolReserveClaimPaused(): bool</text>
<text text-anchor="start" x="2588.9771" y="-2621.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2588.9771" y="-2604.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogNoDataCancellationPeriodChanged(_setter: address, _noDataCancellationPeriod: uint256)</text>
<text text-anchor="start" x="2588.9771" y="-2587.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogWhitelistAccountAdded(_setter: address, _whitelisted: address)</text>
<text text-anchor="start" x="2588.9771" y="-2571.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogWhitelistAccountRemoved(_setter: address, _unlisted: address)</text>
<text text-anchor="start" x="2588.9771" y="-2554.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogProtocolExecutionReserveClaimerChanged(_setter: address, _protocolExecutionReserveClaimer: address)</text>
<text text-anchor="start" x="2588.9771" y="-2537.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogProtocolRedemptionReserveClaimerChanged(_setter: address, _protocolRedemptionReserveClaimer: address)</text>
<text text-anchor="start" x="2588.9771" y="-2520.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogProtocolExecutionReservePartChanged(_setter: address, _protocolExecutionReservePart: uint32)</text>
<text text-anchor="start" x="2588.9771" y="-2503.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogDerivativeAuthorExecutionFeeCapChanged(_setter: address, _derivativeAuthorExecutionFeeCap: uint32)</text>
<text text-anchor="start" x="2588.9771" y="-2487.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogProtocolRedemptionReservePartChanged(_setter: address, _protocolRedemptionReservePart: uint32)</text>
<text text-anchor="start" x="2588.9771" y="-2470.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogDerivativeAuthorRedemptionReservePartChanged(_setter: address, _derivativeAuthorRedemptionReservePart: uint32)</text>
<text text-anchor="start" x="2588.9771" y="-2453.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; LogProtocolPausableStateChanged(_setter: address, _state: bool, _role: bytes32)</text>
<text text-anchor="start" x="2588.9771" y="-2436.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyProtocolAdressesSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2419.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyNoDataCancellationPeriodSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2403.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyWhitelister()</text>
<text text-anchor="start" x="2588.9771" y="-2386.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyProtocolExecutionReserveClaimerAddressSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2369.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyProtocolRedemptionReserveClaimerAddressSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2352.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyProtocolExecutionReservePartSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2335.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyDerivativeAuthorExecutionFeeCapSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2319.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyProtocolRedemptionReservePartSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2302.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyGuardian()</text>
<text text-anchor="start" x="2588.9771" y="-2285.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPartialCreatePauseSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2268.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPartialMintPauseSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2251.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPartialRedeemPauseSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2235.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPartialExecutePauseSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2218.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPartialCancelPauseSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2201.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyPartialClaimReservePauseSetter()</text>
<text text-anchor="start" x="2588.9771" y="-2184.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyProtocolUnpauserSetter()</text>
</g>
<!-- 10 -->
<g id="node21" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2660.521,-3363.1 2660.521,-3823.9 3498.412,-3823.9 3498.412,-3363.1 2660.521,-3363.1"/>
<text text-anchor="middle" x="3079.4665" y="-3807.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3079.4665" y="-3790.5" font-family="Times,serif" font-size="14.00" fill="#000000">ICore</text>
<polyline fill="none" stroke="#000000" points="2660.521,-3782.3 3498.412,-3782.3 "/>
<text text-anchor="middle" x="3079.4665" y="-3765.7" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="2660.521,-3757.5 3498.412,-3757.5 "/>
<text text-anchor="start" x="2668.521" y="-3740.9" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2668.521" y="-3724.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(_governor: address)</text>
<text text-anchor="start" x="2668.521" y="-3707.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getProtocolParametersArgs(): RegistryEntities.ProtocolParametersArgs</text>
<text text-anchor="start" x="2668.521" y="-3690.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getProtocolAddresses(): RegistryEntities.ProtocolAddressesArgs</text>
<text text-anchor="start" x="2668.521" y="-3673.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getReservesVaultBalance(_reseveRecipient: address, _token: address): uint256</text>
<text text-anchor="start" x="2668.521" y="-3656.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getDerivativePayouts(_derivativeHash: bytes32): uint256[]</text>
<text text-anchor="start" x="2668.521" y="-3640.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getP2pDerivativeVaultFunds(_derivativeHash: bytes32): uint256</text>
<text text-anchor="start" x="2668.521" y="-3623.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;isDerivativeCancelled(_derivativeHash: bytes32): bool</text>
<text text-anchor="start" x="2668.521" y="-3606.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateProtocolParametersArgs()</text>
<text text-anchor="start" x="2668.521" y="-3589.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;updateProtocolAddresses()</text>
<text text-anchor="start" x="2668.521" y="-3572.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;claimReserves(_tokenAddress: address)</text>
<text text-anchor="start" x="2668.521" y="-3556.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;claimReserves(_tokenAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2668.521" y="-3539.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;create(_derivative: LibDerivative.Derivative, _amount: uint256, _positionsOwners: address[])</text>
<text text-anchor="start" x="2668.521" y="-3522.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;createAndMint(_derivative: LibDerivative.Derivative, _amount: uint256, _positionsOwners: address[], _derivativeAuthorCustomName: string)</text>
<text text-anchor="start" x="2668.521" y="-3505.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mint(_amount: uint256, _positionsAddresses: address[], _positionsOwners: address[])</text>
<text text-anchor="start" x="2668.521" y="-3488.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;execute(_positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2668.521" y="-3472.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;execute(_positionOwner: address, _positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2668.521" y="-3455.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;execute(_positionsAddresses: address[], _amounts: uint256[])</text>
<text text-anchor="start" x="2668.521" y="-3438.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;execute(_positionsOwner: address, _positionsAddresses: address[], _amounts: uint256[])</text>
<text text-anchor="start" x="2668.521" y="-3421.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;redeem(_positionsAddresses: address[], _amount: uint256)</text>
<text text-anchor="start" x="2668.521" y="-3404.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;redeem(_positionsAddresses: address[][], _amounts: uint256[])</text>
<text text-anchor="start" x="2668.521" y="-3388.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;cancel(_positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="2668.521" y="-3371.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;cancel(_positionsAddresses: address[], _amounts: uint256[])</text>
</g>
<!-- 24&#45;&gt;10 -->
<g id="edge37" class="edge">
<title>24&#45;&gt;10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3063.2772,-3326.1549C3063.8199,-3335.1157 3064.356,-3343.9689 3064.8844,-3352.6948"/>
<polygon fill="#000000" stroke="#000000" points="3061.4029,-3353.1084 3065.5011,-3362.8785 3068.3901,-3352.6852 3061.4029,-3353.1084"/>
</g>
<!-- 13 -->
<g id="node25" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1792.3142,-3497.5 1792.3142,-3689.5 2534.6188,-3689.5 2534.6188,-3497.5 1792.3142,-3497.5"/>
<text text-anchor="middle" x="2163.4665" y="-3672.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2163.4665" y="-3656.1" font-family="Times,serif" font-size="14.00" fill="#000000">IOpiumProxyFactory</text>
<polyline fill="none" stroke="#000000" points="1792.3142,-3647.9 2534.6188,-3647.9 "/>
<text text-anchor="middle" x="2163.4665" y="-3631.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="1792.3142,-3623.1 2534.6188,-3623.1 "/>
<text text-anchor="start" x="1800.3142" y="-3606.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="1800.3142" y="-3589.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;getImplementationAddress(): address</text>
<text text-anchor="start" x="1800.3142" y="-3572.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;initialize(_registry: address)</text>
<text text-anchor="start" x="1800.3142" y="-3556.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;create(_buyer: address, _seller: address, _amount: uint256, _derivativeHash: bytes32, _derivative: LibDerivative.Derivative)</text>
<text text-anchor="start" x="1800.3142" y="-3539.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;mintPair(_buyer: address, _seller: address, _longPositionAddress: address, _shortPositionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="1800.3142" y="-3522.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burn(_positionOwner: address, _positionAddress: address, _amount: uint256)</text>
<text text-anchor="start" x="1800.3142" y="-3505.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;burnPair(_positionOwner: address, _longPositionAddress: address, _shortPositionAddress: address, _amount: uint256)</text>
</g>
<!-- 24&#45;&gt;13 -->
<g id="edge36" class="edge">
<title>24&#45;&gt;13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2580.7642,-3187.2016C2464.3522,-3300.5452 2349.4105,-3412.4572 2269.73,-3490.0375"/>
<polygon fill="#000000" stroke="#000000" points="2266.8534,-3487.9532 2262.1301,-3497.437 2271.7366,-3492.9686 2266.8534,-3487.9532"/>
</g>
<!-- 24&#45;&gt;14 -->
<g id="edge38" class="edge">
<title>24&#45;&gt;14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3476.2483,-3319.7472C3480.6256,-3322.0944 3485.0318,-3324.3795 3489.4665,-3326.6 3597.3237,-3380.6043 4464.3395,-3313.3893 4574.4665,-3362.6 4645.6637,-3394.4148 4705.2927,-3460.8842 4744.5983,-3514.3719"/>
<polygon fill="#000000" stroke="#000000" points="4741.7871,-3516.4573 4750.4897,-3522.5002 4747.4549,-3512.3492 4741.7871,-3516.4573"/>
</g>
<!-- 24&#45;&gt;16 -->
<g id="edge39" class="edge">
<title>24&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2580.766,-3160.51C2485.8931,-3227.1481 2382.0256,-3287.1722 2275.4665,-3326.6 2009.1083,-3425.1547 1908.388,-3277.3869 1637.4665,-3362.6 1534.0821,-3395.1175 1430.2967,-3462.6235 1358.3762,-3516.2868"/>
<polygon fill="#000000" stroke="#000000" points="1356.0968,-3513.6215 1350.2046,-3522.4268 1360.3018,-3519.2178 1356.0968,-3513.6215"/>
</g>
<!-- 17 -->
<g id="node30" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3515.9457,-3539.5 3515.9457,-3647.5 4064.9873,-3647.5 4064.9873,-3539.5 3515.9457,-3539.5"/>
<text text-anchor="middle" x="3790.4665" y="-3630.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="3790.4665" y="-3614.1" font-family="Times,serif" font-size="14.00" fill="#000000">ITokenSpender</text>
<polyline fill="none" stroke="#000000" points="3515.9457,-3605.9 4064.9873,-3605.9 "/>
<text text-anchor="middle" x="3790.4665" y="-3589.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3515.9457,-3581.1 4064.9873,-3581.1 "/>
<text text-anchor="start" x="3523.9457" y="-3564.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3523.9457" y="-3547.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;claimTokens(_token: IERC20Upgradeable, _from: address, _to: address, _amount: uint256)</text>
</g>
<!-- 24&#45;&gt;17 -->
<g id="edge40" class="edge">
<title>24&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3476.2251,-3312.5786C3480.6412,-3317.2886 3485.0556,-3321.9635 3489.4665,-3326.6 3561.4829,-3402.3011 3652.1211,-3480.6723 3715.023,-3532.7409"/>
<polygon fill="#000000" stroke="#000000" points="3712.9982,-3535.6079 3722.9381,-3539.2752 3717.4546,-3530.2097 3712.9982,-3535.6079"/>
</g>
<!-- 24&#45;&gt;19 -->
<g id="edge41" class="edge">
<title>24&#45;&gt;19</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2580.9313,-3163.6488C2486.1848,-3229.8418 2382.3217,-3288.899 2275.4665,-3326.6 2130.1916,-3377.8564 1027.992,-3295.2006 889.4665,-3362.6 827.3163,-3392.8391 778.2329,-3453.8785 745.3924,-3505.6059"/>
<polygon fill="#000000" stroke="#000000" points="742.3845,-3503.8148 740.0592,-3514.1514 748.3229,-3507.5209 742.3845,-3503.8148"/>
</g>
<!-- 22 -->
<g id="node37" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4083.181,-3396.7 4083.181,-3790.3 4565.752,-3790.3 4565.752,-3396.7 4083.181,-3396.7"/>
<text text-anchor="middle" x="4324.4665" y="-3773.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Library&gt;&gt;</text>
<text text-anchor="middle" x="4324.4665" y="-3756.9" font-family="Times,serif" font-size="14.00" fill="#000000">LibRoles</text>
<polyline fill="none" stroke="#000000" points="4083.181,-3748.7 4565.752,-3748.7 "/>
<text text-anchor="start" x="4091.181" y="-3732.1" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="4091.181" y="-3715.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PROTOCOL_ADDRESSES_SETTER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3698.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;NO_DATA_CANCELLATION_PERIOD_SETTER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3681.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;WHITELISTER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3664.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REGISTRY_MANAGER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3648.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;CORE_CONFIGURATION_UPDATER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3631.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;EXECUTION_RESERVE_CLAIMER_ADDRESS_SETTER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3614.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REDEMPTION_RESERVE_CLAIMER_ADDRESS_SETTER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3597.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;EXECUTION_RESERVE_PART_SETTER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3580.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;DERIVATIVE_AUTHOR_EXECUTION_FEE_CAP_SETTER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3564.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;REDEMPTION_RESERVE_PART_SETTER_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3547.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;GUARDIAN_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3530.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PARTIAL_CREATE_PAUSE_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3513.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PARTIAL_MINT_PAUSE_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3496.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PARTIAL_REDEEM_PAUSE_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3480.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PARTIAL_EXECUTE_PAUSE_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3463.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PARTIAL_CANCEL_PAUSE_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3446.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PARTIAL_CLAIM_RESERVE_PAUSE_ROLE: bytes32</text>
<text text-anchor="start" x="4091.181" y="-3429.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;PROTOCOL_UNPAUSER_ROLE: bytes32</text>
<polyline fill="none" stroke="#000000" points="4083.181,-3421.5 4565.752,-3421.5 "/>
<text text-anchor="middle" x="4324.4665" y="-3404.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 24&#45;&gt;22 -->
<g id="edge35" class="edge">
<title>24&#45;&gt;22</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3476.341,-3319.5653C3480.6884,-3321.9713 3485.0636,-3324.317 3489.4665,-3326.6 3605.0927,-3386.5548 3954.6845,-3311.4505 4074.4665,-3362.6 4092.512,-3370.3058 4110.0828,-3379.8983 4126.9985,-3390.7582"/>
<polygon fill="#000000" stroke="#000000" points="4125.5082,-3393.9678 4135.7837,-3396.5495 4129.3609,-3388.1234 4125.5082,-3393.9678"/>
</g>
<!-- 25&#45;&gt;10 -->
<g id="edge42" class="edge">
<title>25&#45;&gt;10</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2226.4955,-2797.1459C2265.1303,-2903.5578 2385.1567,-3170.1343 2563.4665,-3326.6 2592.4687,-3352.0492 2607.9123,-3345.4303 2642.4665,-3362.6 2645.4436,-3364.0793 2648.4304,-3365.5677 2651.4259,-3367.0646"/>
<polygon fill="#000000" stroke="#000000" points="2649.9291,-3370.2294 2660.4375,-3371.5802 2653.0651,-3363.9711 2649.9291,-3370.2294"/>
</g>
<!-- 25&#45;&gt;13 -->
<g id="edge43" class="edge">
<title>25&#45;&gt;13</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2210.7428,-2797.1784C2203.0087,-2927.4509 2180.7647,-3302.1298 2169.771,-3487.3077"/>
<polygon fill="#000000" stroke="#000000" points="2166.2746,-3487.1438 2169.1757,-3497.3337 2173.2623,-3487.5587 2166.2746,-3487.1438"/>
</g>
<!-- 25&#45;&gt;14 -->
<g id="edge44" class="edge">
<title>25&#45;&gt;14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2225.6527,-2796.953C2258.8435,-2911.0139 2362.7333,-3207.7813 2572.4665,-3326.6 2669.2539,-3381.4323 4472.5633,-3317.9893 4574.4665,-3362.6 4646.0241,-3393.9261 4705.7105,-3460.6209 4744.9435,-3514.3136"/>
<polygon fill="#000000" stroke="#000000" points="4742.1371,-3516.4059 4750.8227,-3522.4732 4747.8165,-3512.3138 4742.1371,-3516.4059"/>
</g>
<!-- 25&#45;&gt;16 -->
<g id="edge45" class="edge">
<title>25&#45;&gt;16</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2161.7157,-2797.1784C2006.7782,-2934.5347 1545.3536,-3343.5997 1351.1516,-3515.7648"/>
<polygon fill="#000000" stroke="#000000" points="1348.6737,-3513.2842 1343.5126,-3522.537 1353.3173,-3518.5222 1348.6737,-3513.2842"/>
</g>
<!-- 25&#45;&gt;17 -->
<g id="edge46" class="edge">
<title>25&#45;&gt;17</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2225.9236,-2797.1117C2259.5913,-2910.8768 2364.217,-3205.7852 2572.4665,-3326.6 2662.3946,-3378.7713 3410.2174,-3325.8371 3507.4665,-3362.6 3600.4196,-3397.7389 3685.6203,-3476.3847 3737.7265,-3532.1027"/>
<polygon fill="#000000" stroke="#000000" points="3735.1798,-3534.5038 3744.5424,-3539.4629 3740.3158,-3529.7476 3735.1798,-3534.5038"/>
</g>
<!-- 25struct0 -->
<g id="node12" class="node">
<title>25struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2068.0278,-1724.7 2068.0278,-1925.5 2358.9052,-1925.5 2358.9052,-1724.7 2068.0278,-1724.7"/>
<text text-anchor="middle" x="2213.4665" y="-1908.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="2213.4665" y="-1892.1" font-family="Times,serif" font-size="14.00" fill="#000000">ProtocolParametersArgs</text>
<polyline fill="none" stroke="#000000" points="2068.0278,-1883.9 2358.9052,-1883.9 "/>
<text text-anchor="start" x="2076.0278" y="-1867.3" font-family="Times,serif" font-size="14.00" fill="#000000">noDataCancellationPeriod: uint32</text>
<text text-anchor="start" x="2076.0278" y="-1850.5" font-family="Times,serif" font-size="14.00" fill="#000000">derivativeAuthorExecutionFeeCap: uint32</text>
<text text-anchor="start" x="2076.0278" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000">derivativeAuthorRedemptionReservePart: uint32</text>
<text text-anchor="start" x="2076.0278" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000">protocolExecutionReservePart: uint32</text>
<text text-anchor="start" x="2076.0278" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000">protocolRedemptionReservePart: uint32</text>
<text text-anchor="start" x="2076.0278" y="-1783.3" font-family="Times,serif" font-size="14.00" fill="#000000">__gapOne: uint32</text>
<text text-anchor="start" x="2076.0278" y="-1766.5" font-family="Times,serif" font-size="14.00" fill="#000000">__gapTwo: uint32</text>
<text text-anchor="start" x="2076.0278" y="-1749.7" font-family="Times,serif" font-size="14.00" fill="#000000">__gapThree: uint32</text>
<text text-anchor="start" x="2076.0278" y="-1732.9" font-family="Times,serif" font-size="14.00" fill="#000000">__gapFour: uint32</text>
</g>
<!-- 25struct0&#45;&gt;25 -->
<g id="edge3" class="edge">
<title>25struct0&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M2213.4665,-1925.5408C2213.4665,-2119.357 2213.4665,-2539.3877 2213.4665,-2693.2816"/>
<polygon fill="#000000" stroke="#000000" points="2213.4666,-2693.6186 2217.4665,-2699.6187 2213.4665,-2705.6186 2209.4665,-2699.6186 2213.4666,-2693.6186"/>
</g>
<!-- 25struct1 -->
<g id="node13" class="node">
<title>25struct1</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1550.1428,-1724.7 1550.1428,-1925.5 1820.7902,-1925.5 1820.7902,-1724.7 1550.1428,-1724.7"/>
<text text-anchor="middle" x="1685.4665" y="-1908.9" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1685.4665" y="-1892.1" font-family="Times,serif" font-size="14.00" fill="#000000">ProtocolAddressesArgs</text>
<polyline fill="none" stroke="#000000" points="1550.1428,-1883.9 1820.7902,-1883.9 "/>
<text text-anchor="start" x="1558.1428" y="-1867.3" font-family="Times,serif" font-size="14.00" fill="#000000">core: ICore</text>
<text text-anchor="start" x="1558.1428" y="-1850.5" font-family="Times,serif" font-size="14.00" fill="#000000">opiumProxyFactory: IOpiumProxyFactory</text>
<text text-anchor="start" x="1558.1428" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000">oracleAggregator: IOracleAggregator</text>
<text text-anchor="start" x="1558.1428" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000">syntheticAggregator: ISyntheticAggregator</text>
<text text-anchor="start" x="1558.1428" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000">tokenSpender: ITokenSpender</text>
<text text-anchor="start" x="1558.1428" y="-1783.3" font-family="Times,serif" font-size="14.00" fill="#000000">protocolExecutionReserveClaimer: address</text>
<text text-anchor="start" x="1558.1428" y="-1766.5" font-family="Times,serif" font-size="14.00" fill="#000000">protocolRedemptionReserveClaimer: address</text>
<text text-anchor="start" x="1558.1428" y="-1749.7" font-family="Times,serif" font-size="14.00" fill="#000000">__gapOne: uint32</text>
<text text-anchor="start" x="1558.1428" y="-1732.9" font-family="Times,serif" font-size="14.00" fill="#000000">__gapTwo: uint32</text>
</g>
<!-- 25struct1&#45;&gt;25 -->
<g id="edge4" class="edge">
<title>25struct1&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M1727.4126,-1925.665C1754.5317,-1988.3197 1791.7084,-2070.0363 1829.4665,-2140 1943.6687,-2351.6104 2102.3791,-2589.3937 2174.7379,-2695.2603"/>
<polygon fill="#000000" stroke="#000000" points="2174.8951,-2695.49 2181.5853,-2698.181 2181.6744,-2705.3916 2174.9842,-2702.7005 2174.8951,-2695.49"/>
</g>
<!-- 25struct2 -->
<g id="node14" class="node">
<title>25struct2</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1838.6695,-1707.9 1838.6695,-1942.3 2050.2635,-1942.3 2050.2635,-1707.9 1838.6695,-1707.9"/>
<text text-anchor="middle" x="1944.4665" y="-1925.7" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1944.4665" y="-1908.9" font-family="Times,serif" font-size="14.00" fill="#000000">ProtocolPausabilityArgs</text>
<polyline fill="none" stroke="#000000" points="1838.6695,-1900.7 2050.2635,-1900.7 "/>
<text text-anchor="start" x="1846.6695" y="-1884.1" font-family="Times,serif" font-size="14.00" fill="#000000">protocolGlobal: bool</text>
<text text-anchor="start" x="1846.6695" y="-1867.3" font-family="Times,serif" font-size="14.00" fill="#000000">protocolPositionCreation: bool</text>
<text text-anchor="start" x="1846.6695" y="-1850.5" font-family="Times,serif" font-size="14.00" fill="#000000">protocolPositionMinting: bool</text>
<text text-anchor="start" x="1846.6695" y="-1833.7" font-family="Times,serif" font-size="14.00" fill="#000000">protocolPositionRedemption: bool</text>
<text text-anchor="start" x="1846.6695" y="-1816.9" font-family="Times,serif" font-size="14.00" fill="#000000">protocolPositionExecution: bool</text>
<text text-anchor="start" x="1846.6695" y="-1800.1" font-family="Times,serif" font-size="14.00" fill="#000000">protocolPositionCancellation: bool</text>
<text text-anchor="start" x="1846.6695" y="-1783.3" font-family="Times,serif" font-size="14.00" fill="#000000">protocolReserveClaim: bool</text>
<text text-anchor="start" x="1846.6695" y="-1766.5" font-family="Times,serif" font-size="14.00" fill="#000000">__gapOne: bool</text>
<text text-anchor="start" x="1846.6695" y="-1749.7" font-family="Times,serif" font-size="14.00" fill="#000000">__gapTwo: bool</text>
<text text-anchor="start" x="1846.6695" y="-1732.9" font-family="Times,serif" font-size="14.00" fill="#000000">__gapThree: bool</text>
<text text-anchor="start" x="1846.6695" y="-1716.1" font-family="Times,serif" font-size="14.00" fill="#000000">__gapFour: bool</text>
</g>
<!-- 25struct2&#45;&gt;25 -->
<g id="edge5" class="edge">
<title>25struct2&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M1978.5355,-1942.4039C2036.8293,-2143.1164 2153.5999,-2545.1721 2196.8524,-2694.0957"/>
<polygon fill="#000000" stroke="#000000" points="2196.8551,-2694.105 2202.3698,-2698.7513 2200.202,-2705.6288 2194.6873,-2700.9826 2196.8551,-2694.105"/>
</g>
<!-- 6 -->
<g id="node15" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9728.3737,-607.5 9728.3737,-698.7 10484.5593,-698.7 10484.5593,-607.5 9728.3737,-607.5"/>
<text text-anchor="middle" x="10106.4665" y="-682.1" font-family="Times,serif" font-size="14.00" fill="#000000">BalanceHelper</text>
<polyline fill="none" stroke="#000000" points="9728.3737,-673.9 10484.5593,-673.9 "/>
<text text-anchor="middle" x="10106.4665" y="-657.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="9728.3737,-649.1 10484.5593,-649.1 "/>
<text text-anchor="start" x="9736.3737" y="-632.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="9736.3737" y="-615.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;balancesOf(_user: address, _tokens: IERC20[], _tokenSpender: address): (ethBalance: uint256, tokensBalances: TokenBalance[])</text>
</g>
<!-- 6struct0 -->
<g id="node16" class="node">
<title>6struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10045.0075,-46.5 10045.0075,-129.7 10167.9255,-129.7 10167.9255,-46.5 10045.0075,-46.5"/>
<text text-anchor="middle" x="10106.4665" y="-113.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="10106.4665" y="-96.3" font-family="Times,serif" font-size="14.00" fill="#000000">TokenBalance</text>
<polyline fill="none" stroke="#000000" points="10045.0075,-88.1 10167.9255,-88.1 "/>
<text text-anchor="start" x="10053.0075" y="-71.5" font-family="Times,serif" font-size="14.00" fill="#000000">total: uint256</text>
<text text-anchor="start" x="10053.0075" y="-54.7" font-family="Times,serif" font-size="14.00" fill="#000000">allowance: uint256</text>
</g>
<!-- 6struct0&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>6struct0&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M10106.4665,-130.1052C10106.4665,-229.8152 10106.4665,-480.9379 10106.4665,-595.055"/>
<polygon fill="#000000" stroke="#000000" points="10106.4666,-595.2961 10110.4665,-601.2961 10106.4665,-607.2961 10102.4665,-601.2961 10106.4666,-595.2961"/>
</g>
<!-- 7 -->
<g id="node17" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7550.8584,-1754.3 7550.8584,-1895.9 7926.0746,-1895.9 7926.0746,-1754.3 7550.8584,-1754.3"/>
<text text-anchor="middle" x="7738.4665" y="-1879.3" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="7738.4665" y="-1862.5" font-family="Times,serif" font-size="14.00" fill="#000000">ExecutableByThirdParty</text>
<polyline fill="none" stroke="#000000" points="7550.8584,-1854.3 7926.0746,-1854.3 "/>
<text text-anchor="start" x="7558.8584" y="-1837.7" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="7558.8584" y="-1820.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;thirdpartyExecutionAllowance: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="#000000" points="7550.8584,-1812.7 7926.0746,-1812.7 "/>
<text text-anchor="start" x="7558.8584" y="-1796.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7558.8584" y="-1779.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;thirdpartyExecutionAllowed(derivativeOwner: address): bool</text>
<text text-anchor="start" x="7558.8584" y="-1762.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowThirdpartyExecution(allow: bool)</text>
</g>
<!-- 8 -->
<g id="node18" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8153.7568,-1737.5 8153.7568,-1912.7 8385.1762,-1912.7 8385.1762,-1737.5 8153.7568,-1737.5"/>
<text text-anchor="middle" x="8269.4665" y="-1896.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="8269.4665" y="-1879.3" font-family="Times,serif" font-size="14.00" fill="#000000">HasCommission</text>
<polyline fill="none" stroke="#000000" points="8153.7568,-1871.1 8385.1762,-1871.1 "/>
<text text-anchor="start" x="8161.7568" y="-1854.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="8161.7568" y="-1837.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;author: address</text>
<text text-anchor="start" x="8161.7568" y="-1820.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;AUTHOR_COMMISSION: uint256</text>
<polyline fill="none" stroke="#000000" points="8153.7568,-1812.7 8385.1762,-1812.7 "/>
<text text-anchor="start" x="8161.7568" y="-1796.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8161.7568" y="-1779.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="8161.7568" y="-1762.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorAddress(): address</text>
<text text-anchor="start" x="8161.7568" y="-1745.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorCommission(): uint256</text>
</g>
<!-- 9 -->
<g id="node19" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8754.0326,-1256.5 8754.0326,-1347.7 9460.9004,-1347.7 9460.9004,-1256.5 8754.0326,-1256.5"/>
<text text-anchor="middle" x="9107.4665" y="-1331.1" font-family="Times,serif" font-size="14.00" fill="#000000">PayoutHelper</text>
<polyline fill="none" stroke="#000000" points="8754.0326,-1322.9 9460.9004,-1322.9 "/>
<text text-anchor="middle" x="9107.4665" y="-1306.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="8754.0326,-1298.1 9460.9004,-1298.1 "/>
<text text-anchor="start" x="8762.0326" y="-1281.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8762.0326" y="-1264.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExecutionPayouts(_derivative: LibDerivative.Derivative, _results: uint256[]): (executionPayouts: ExecutionPayout[])</text>
</g>
<!-- 9&#45;&gt;11 -->
<g id="edge48" class="edge">
<title>9&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9034.6937,-1347.7057C8963.691,-1389.4549 8851.0921,-1448.5228 8744.4665,-1474.2 8484.4469,-1536.817 7802.468,-1451.8103 7541.4665,-1510.2 7374.9133,-1547.4603 7199.1018,-1622.9704 7062.4395,-1690.7076"/>
<polygon fill="#000000" stroke="#000000" points="7060.4754,-1687.7755 7053.0818,-1695.364 7063.5939,-1694.0425 7060.4754,-1687.7755"/>
</g>
<!-- 9&#45;&gt;20 -->
<g id="edge47" class="edge">
<title>9&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M9091.7422,-1347.727C8988.6256,-1638.8693 8378.2699,-3243.0977 7258.4665,-3824.4 7158.9512,-3876.0595 3737.4195,-3906.1078 2821.2247,-3913.2401"/>
<polygon fill="#000000" stroke="#000000" points="2820.8653,-3909.7426 2810.8928,-3913.3203 2820.9197,-3916.7424 2820.8653,-3909.7426"/>
</g>
<!-- 9struct0 -->
<g id="node20" class="node">
<title>9struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9038.9991,-611.5 9038.9991,-694.7 9175.9339,-694.7 9175.9339,-611.5 9038.9991,-611.5"/>
<text text-anchor="middle" x="9107.4665" y="-678.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="9107.4665" y="-661.3" font-family="Times,serif" font-size="14.00" fill="#000000">ExecutionPayout</text>
<polyline fill="none" stroke="#000000" points="9038.9991,-653.1 9175.9339,-653.1 "/>
<text text-anchor="start" x="9046.9991" y="-636.5" font-family="Times,serif" font-size="14.00" fill="#000000">buyerPayout: uint256</text>
<text text-anchor="start" x="9046.9991" y="-619.7" font-family="Times,serif" font-size="14.00" fill="#000000">sellerPayout: uint256</text>
</g>
<!-- 9struct0&#45;&gt;9 -->
<g id="edge7" class="edge">
<title>9struct0&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M9107.4665,-695.1826C9107.4665,-807.5871 9107.4665,-1115.0389 9107.4665,-1243.9778"/>
<polygon fill="#000000" stroke="#000000" points="9107.4666,-1244.251 9111.4665,-1250.251 9107.4665,-1256.251 9103.4665,-1250.251 9107.4666,-1244.251"/>
</g>
<!-- 10&#45;&gt;25 -->
<g id="edge49" class="edge">
<title>10&#45;&gt;25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2661.3174,-3363.0229C2661.0337,-3362.8819 2660.75,-3362.7409 2660.4665,-3362.6 2625.9123,-3345.4303 2610.4687,-3352.0492 2581.4665,-3326.6 2408.2065,-3174.5655 2289.9754,-2918.5686 2239.9205,-2806.566"/>
<polygon fill="#000000" stroke="#000000" points="2242.9885,-2804.8523 2235.7179,-2797.1459 2236.5958,-2807.7043 2242.9885,-2804.8523"/>
</g>
<!-- 10&#45;&gt;20 -->
<g id="edge50" class="edge">
<title>10&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2733.6557,-3824.0884C2717.1982,-3835.0623 2701.5506,-3845.4962 2687.1193,-3855.1191"/>
<polygon fill="#000000" stroke="#000000" points="2685.1442,-3852.2293 2678.7659,-3860.6891 2689.0277,-3858.0533 2685.1442,-3852.2293"/>
</g>
<!-- 11&#45;&gt;20 -->
<g id="edge51" class="edge">
<title>11&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6781.671,-1954.8232C6671.277,-2326.7221 6297.3691,-3397.248 5547.4665,-3824.4 5429.6181,-3891.5276 3488.3655,-3909.5242 2820.8271,-3913.7399"/>
<polygon fill="#000000" stroke="#000000" points="2820.5866,-3910.2412 2810.6088,-3913.804 2820.6306,-3917.2411 2820.5866,-3910.2412"/>
</g>
<!-- 12&#45;&gt;20 -->
<g id="edge52" class="edge">
<title>12&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M315.3185,-1406.794C185.6936,-1792.9793 -202.9967,-3150.0654 475.4665,-3824.4 541.957,-3890.4859 1842.2168,-3908.6875 2373.8537,-3913.3776"/>
<polygon fill="#000000" stroke="#000000" points="2373.9175,-3916.8782 2383.9477,-3913.4659 2373.9787,-3909.8785 2373.9175,-3916.8782"/>
</g>
<!-- 12struct0 -->
<g id="node24" class="node">
<title>12struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="225.4833,-603.1 225.4833,-703.1 479.4497,-703.1 479.4497,-603.1 225.4833,-603.1"/>
<text text-anchor="middle" x="352.4665" y="-686.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="352.4665" y="-669.7" font-family="Times,serif" font-size="14.00" fill="#000000">OpiumPositionTokenParams</text>
<polyline fill="none" stroke="#000000" points="225.4833,-661.5 479.4497,-661.5 "/>
<text text-anchor="start" x="233.4833" y="-644.9" font-family="Times,serif" font-size="14.00" fill="#000000">derivative: LibDerivative.Derivative</text>
<text text-anchor="start" x="233.4833" y="-628.1" font-family="Times,serif" font-size="14.00" fill="#000000">positionType: LibDerivative.PositionType</text>
<text text-anchor="start" x="233.4833" y="-611.3" font-family="Times,serif" font-size="14.00" fill="#000000">derivativeHash: bytes32</text>
</g>
<!-- 12struct0&#45;&gt;12 -->
<g id="edge8" class="edge">
<title>12struct0&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M352.4665,-703.2168C352.4665,-805.7769 352.4665,-1041.9776 352.4665,-1185.1931"/>
<polygon fill="#000000" stroke="#000000" points="352.4666,-1185.4728 356.4665,-1191.4729 352.4665,-1197.4728 348.4665,-1191.4728 352.4666,-1185.4728"/>
</g>
<!-- 13&#45;&gt;20 -->
<g id="edge53" class="edge">
<title>13&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2293.3868,-3689.7129C2365.684,-3743.2527 2453.4415,-3808.2419 2516.0613,-3854.6151"/>
<polygon fill="#000000" stroke="#000000" points="2514.2208,-3857.6074 2524.3401,-3860.746 2518.3868,-3851.982 2514.2208,-3857.6074"/>
</g>
<!-- 15&#45;&gt;25 -->
<g id="edge54" class="edge">
<title>15&#45;&gt;25</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M2597.2938,-2139.5269C2588.8498,-2151.7992 2580.5477,-2163.9884 2572.4665,-2176 2446.1899,-2363.6925 2307.2234,-2593.7377 2245.7581,-2696.8154"/>
<polygon fill="#000000" stroke="#000000" points="2242.6952,-2695.1182 2240.5835,-2705.5005 2248.7087,-2698.7011 2242.6952,-2695.1182"/>
</g>
<!-- 16&#45;&gt;20 -->
<g id="edge55" class="edge">
<title>16&#45;&gt;20</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M1351.6628,-3664.3119C1423.9483,-3718.1373 1531.2947,-3788.7974 1637.4665,-3824.4 1769.2453,-3868.5895 2133.9767,-3893.5293 2374.0108,-3905.5996"/>
<polygon fill="#000000" stroke="#000000" points="2374.1138,-3909.109 2384.2758,-3906.1118 2374.4627,-3902.1177 2374.1138,-3909.109"/>
</g>
<!-- 16struct0 -->
<g id="node29" class="node">
<title>16struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1177.1036,-2684.5 1177.1036,-2818.1 1349.8294,-2818.1 1349.8294,-2684.5 1177.1036,-2684.5"/>
<text text-anchor="middle" x="1263.4665" y="-2801.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1263.4665" y="-2784.7" font-family="Times,serif" font-size="14.00" fill="#000000">SyntheticCache</text>
<polyline fill="none" stroke="#000000" points="1177.1036,-2776.5 1349.8294,-2776.5 "/>
<text text-anchor="start" x="1185.1036" y="-2759.9" font-family="Times,serif" font-size="14.00" fill="#000000">buyerMargin: uint256</text>
<text text-anchor="start" x="1185.1036" y="-2743.1" font-family="Times,serif" font-size="14.00" fill="#000000">sellerMargin: uint256</text>
<text text-anchor="start" x="1185.1036" y="-2726.3" font-family="Times,serif" font-size="14.00" fill="#000000">authorCommission: uint256</text>
<text text-anchor="start" x="1185.1036" y="-2709.5" font-family="Times,serif" font-size="14.00" fill="#000000">authorAddress: address</text>
<text text-anchor="start" x="1185.1036" y="-2692.7" font-family="Times,serif" font-size="14.00" fill="#000000">init: bool</text>
</g>
<!-- 16struct0&#45;&gt;16 -->
<g id="edge9" class="edge">
<title>16struct0&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M1263.4665,-2818.4432C1263.4665,-2971.0868 1263.4665,-3343.7988 1263.4665,-3510.5204"/>
<polygon fill="#000000" stroke="#000000" points="1263.4666,-3510.6434 1267.4665,-3516.6434 1263.4665,-3522.6434 1259.4665,-3516.6433 1263.4666,-3510.6434"/>
</g>
<!-- 20struct0 -->
<g id="node34" class="node">
<title>20struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="1646.6786,-3518.3 1646.6786,-3668.7 1774.2544,-3668.7 1774.2544,-3518.3 1646.6786,-3518.3"/>
<text text-anchor="middle" x="1710.4665" y="-3652.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1710.4665" y="-3635.3" font-family="Times,serif" font-size="14.00" fill="#000000">Derivative</text>
<polyline fill="none" stroke="#000000" points="1646.6786,-3627.1 1774.2544,-3627.1 "/>
<text text-anchor="start" x="1654.6786" y="-3610.5" font-family="Times,serif" font-size="14.00" fill="#000000">margin: uint256</text>
<text text-anchor="start" x="1654.6786" y="-3593.7" font-family="Times,serif" font-size="14.00" fill="#000000">endTime: uint256</text>
<text text-anchor="start" x="1654.6786" y="-3576.9" font-family="Times,serif" font-size="14.00" fill="#000000">params: uint256[]</text>
<text text-anchor="start" x="1654.6786" y="-3560.1" font-family="Times,serif" font-size="14.00" fill="#000000">oracleId: address</text>
<text text-anchor="start" x="1654.6786" y="-3543.3" font-family="Times,serif" font-size="14.00" fill="#000000">token: address</text>
<text text-anchor="start" x="1654.6786" y="-3526.5" font-family="Times,serif" font-size="14.00" fill="#000000">syntheticId: address</text>
</g>
<!-- 20struct0&#45;&gt;20 -->
<g id="edge10" class="edge">
<title>20struct0&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M1713.7279,-3668.9198C1720.2279,-3720.7838 1737.74,-3786.8401 1783.4665,-3824.4 1828.3308,-3861.2516 2147.2807,-3887.918 2372.3221,-3902.3953"/>
<polygon fill="#000000" stroke="#000000" points="2372.334,-3902.396 2378.5767,-3898.7865 2384.3096,-3903.1607 2378.0669,-3906.7702 2372.334,-3902.396"/>
</g>
<!-- 20enum0 -->
<g id="node35" class="node">
<title>20enum0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2552.1334,-3551.9 2552.1334,-3635.1 2642.7996,-3635.1 2642.7996,-3551.9 2552.1334,-3551.9"/>
<text text-anchor="middle" x="2597.4665" y="-3618.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;enum&gt;&gt;</text>
<text text-anchor="middle" x="2597.4665" y="-3601.7" font-family="Times,serif" font-size="14.00" fill="#000000">PositionType</text>
<polyline fill="none" stroke="#000000" points="2552.1334,-3593.5 2642.7996,-3593.5 "/>
<text text-anchor="start" x="2560.1334" y="-3576.9" font-family="Times,serif" font-size="14.00" fill="#000000">SHORT: 0</text>
<text text-anchor="start" x="2560.1334" y="-3560.1" font-family="Times,serif" font-size="14.00" fill="#000000">LONG: 1</text>
</g>
<!-- 20enum0&#45;&gt;20 -->
<g id="edge11" class="edge">
<title>20enum0&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M2597.4665,-3635.1879C2597.4665,-3689.2479 2597.4665,-3784.1878 2597.4665,-3848.2913"/>
<polygon fill="#000000" stroke="#000000" points="2597.4666,-3848.6796 2601.4665,-3854.6796 2597.4665,-3860.6796 2593.4665,-3854.6795 2597.4666,-3848.6796"/>
</g>
<!-- 26 -->
<g id="node38" class="node">
<title>26</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10186.3241,-50.9 10186.3241,-125.3 10302.6089,-125.3 10302.6089,-50.9 10186.3241,-50.9"/>
<text text-anchor="middle" x="10244.4665" y="-108.7" font-family="Times,serif" font-size="14.00" fill="#000000">MockGovernance</text>
<polyline fill="none" stroke="#000000" points="10186.3241,-100.5 10302.6089,-100.5 "/>
<text text-anchor="middle" x="10244.4665" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="10186.3241,-75.7 10302.6089,-75.7 "/>
<text text-anchor="middle" x="10244.4665" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
</g>
<!-- 27 -->
<g id="node39" class="node">
<title>27</title>
<polygon fill="#f2f2f2" stroke="#000000" points="10320.802,-.5 10320.802,-175.7 10694.131,-175.7 10694.131,-.5 10320.802,-.5"/>
<text text-anchor="middle" x="10507.4665" y="-159.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestToken</text>
<polyline fill="none" stroke="#000000" points="10320.802,-150.9 10694.131,-150.9 "/>
<text text-anchor="start" x="10328.802" y="-134.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="10328.802" y="-117.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;customDecimals: uint8</text>
<text text-anchor="start" x="10328.802" y="-100.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10328.802" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;owner: address</text>
<polyline fill="none" stroke="#000000" points="10320.802,-75.7 10694.131,-75.7 "/>
<text text-anchor="start" x="10328.802" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="10328.802" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_name: string, _symbol: string, _decimals: uint8)</text>
<text text-anchor="start" x="10328.802" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;mint(_to: address, _amount: uint256)</text>
<text text-anchor="start" x="10328.802" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;decimals(): uint8</text>
</g>
<!-- 33 -->
<g id="node40" class="node">
<title>33</title>
<polygon fill="#f2f2f2" stroke="#000000" points="2934.505,-1222.9 2934.505,-1381.3 3286.428,-1381.3 3286.428,-1222.9 2934.505,-1222.9"/>
<text text-anchor="middle" x="3110.4665" y="-1364.7" font-family="Times,serif" font-size="14.00" fill="#000000">OracleIdMock</text>
<polyline fill="none" stroke="#000000" points="2934.505,-1356.5 3286.428,-1356.5 "/>
<text text-anchor="start" x="2942.505" y="-1339.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2942.505" y="-1323.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;fetchPrice: uint256</text>
<text text-anchor="start" x="2942.505" y="-1306.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;registry: IRegistry</text>
<polyline fill="none" stroke="#000000" points="2934.505,-1298.1 3286.428,-1298.1 "/>
<text text-anchor="start" x="2942.505" y="-1281.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="2942.505" y="-1264.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;triggerCallback(timestamp: uint256, returnData: uint256)</text>
<text text-anchor="start" x="2942.505" y="-1247.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="2942.505" y="-1231.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_fetchPrice: uint256, _registry: address)</text>
</g>
<!-- 33&#45;&gt;14 -->
<g id="edge57" class="edge">
<title>33&#45;&gt;14</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M3195.6298,-1381.5596C3228.883,-1417.5462 3263.9009,-1462.6542 3284.4665,-1510.2 3340.4314,-1639.586 3269.2021,-2032.5589 3360.4665,-2140 3397.6186,-2183.7373 3449.155,-2130.7636 3484.4665,-2176 3563.1873,-2276.8468 3436.8688,-3236.2723 3527.4665,-3326.6 3609.8979,-3408.7858 4468.2208,-3315.047 4574.4665,-3362.6 4645.6446,-3394.4576 4705.2755,-3460.9228 4744.5866,-3514.398"/>
<polygon fill="#000000" stroke="#000000" points="4741.7752,-3516.4831 4750.4789,-3522.5243 4747.4422,-3512.374 4741.7752,-3516.4831"/>
</g>
<!-- 33&#45;&gt;15 -->
<g id="edge56" class="edge">
<title>33&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M3067.333,-1381.5324C3048.9669,-1415.3545 3026.2204,-1457.2434 3002.1001,-1501.6621"/>
<polygon fill="#000000" stroke="#000000" points="2998.9549,-1500.1197 2997.2586,-1510.5779 3005.1065,-1503.4602 2998.9549,-1500.1197"/>
</g>
<!-- 34 -->
<g id="node41" class="node">
<title>34</title>
<polygon fill="#f2f2f2" stroke="#000000" points="7272.0428,-1180.9 7272.0428,-1423.3 7994.8902,-1423.3 7994.8902,-1180.9 7272.0428,-1180.9"/>
<text text-anchor="middle" x="7633.4665" y="-1406.7" font-family="Times,serif" font-size="14.00" fill="#000000">DummySyntheticIdMock</text>
<polyline fill="none" stroke="#000000" points="7272.0428,-1398.5 7994.8902,-1398.5 "/>
<text text-anchor="middle" x="7633.4665" y="-1381.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="7272.0428,-1373.7 7994.8902,-1373.7 "/>
<text text-anchor="start" x="7280.0428" y="-1357.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="7280.0428" y="-1340.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSyntheticIdName(): string</text>
<text text-anchor="start" x="7280.0428" y="-1323.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;validateInput(_derivative: LibDerivative.Derivative): bool</text>
<text text-anchor="start" x="7280.0428" y="-1306.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMargin(_derivative: LibDerivative.Derivative): (buyerMargin: uint256, sellerMargin: uint256)</text>
<text text-anchor="start" x="7280.0428" y="-1289.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExecutionPayout(_derivative: LibDerivative.Derivative, _result: uint256): (buyerPayout: uint256, sellerPayout: uint256)</text>
<text text-anchor="start" x="7280.0428" y="-1273.1" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="7280.0428" y="-1256.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="7280.0428" y="-1239.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorAddress(): address</text>
<text text-anchor="start" x="7280.0428" y="-1222.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorCommission(): uint256</text>
<text text-anchor="start" x="7280.0428" y="-1205.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowThirdpartyExecution(allow: bool)</text>
<text text-anchor="start" x="7280.0428" y="-1189.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;thirdpartyExecutionAllowed(derivativeOwner: address): bool</text>
</g>
<!-- 34&#45;&gt;7 -->
<g id="edge59" class="edge">
<title>34&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M7657.8195,-1423.4013C7676.1847,-1514.8772 7701.074,-1638.8498 7718.3238,-1724.7702"/>
<polygon fill="none" stroke="#000000" points="7708.0514,-1726.9477 7724.2511,-1754.2939 7728.6405,-1722.814 7708.0514,-1726.9477"/>
</g>
<!-- 34&#45;&gt;8 -->
<g id="edge60" class="edge">
<title>34&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M7819.1825,-1423.4616C7858.3989,-1450.9047 7898.9427,-1480.685 7935.4665,-1510.2 8014.8952,-1574.3867 8098.4922,-1653.215 8162.1834,-1715.9449"/>
<polygon fill="none" stroke="#000000" points="8155.1431,-1723.7506 8183.8422,-1737.4114 8169.9261,-1708.8353 8155.1431,-1723.7506"/>
</g>
<!-- 34&#45;&gt;11 -->
<g id="edge58" class="edge">
<title>34&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M7444.2087,-1423.4013C7325.2832,-1499.6243 7171.1542,-1598.4104 7045.5037,-1678.9438"/>
<polygon fill="none" stroke="#000000" points="7039.5521,-1670.2867 7019.9606,-1695.3152 7050.8839,-1687.967 7039.5521,-1670.2867"/>
</g>
<!-- 35 -->
<g id="node42" class="node">
<title>35</title>
<polygon fill="#f2f2f2" stroke="#000000" points="8013.0428,-1172.5 8013.0428,-1431.7 8735.8902,-1431.7 8735.8902,-1172.5 8013.0428,-1172.5"/>
<text text-anchor="middle" x="8374.4665" y="-1415.1" font-family="Times,serif" font-size="14.00" fill="#000000">OptionCallSyntheticIdMock</text>
<polyline fill="none" stroke="#000000" points="8013.0428,-1406.9 8735.8902,-1406.9 "/>
<text text-anchor="start" x="8021.0428" y="-1390.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8021.0428" y="-1373.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;BASE_PPT: uint256</text>
<polyline fill="none" stroke="#000000" points="8013.0428,-1365.3 8735.8902,-1365.3 "/>
<text text-anchor="start" x="8021.0428" y="-1348.7" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8021.0428" y="-1331.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSyntheticIdName(): string</text>
<text text-anchor="start" x="8021.0428" y="-1315.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;validateInput(_derivative: LibDerivative.Derivative): bool</text>
<text text-anchor="start" x="8021.0428" y="-1298.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMargin(_derivative: LibDerivative.Derivative): (buyerMargin: uint256, sellerMargin: uint256)</text>
<text text-anchor="start" x="8021.0428" y="-1281.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExecutionPayout(_derivative: LibDerivative.Derivative, _result: uint256): (buyerPayout: uint256, sellerPayout: uint256)</text>
<text text-anchor="start" x="8021.0428" y="-1264.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="8021.0428" y="-1247.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor()</text>
<text text-anchor="start" x="8021.0428" y="-1231.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorAddress(): address</text>
<text text-anchor="start" x="8021.0428" y="-1214.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorCommission(): uint256</text>
<text text-anchor="start" x="8021.0428" y="-1197.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowThirdpartyExecution(allow: bool)</text>
<text text-anchor="start" x="8021.0428" y="-1180.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;thirdpartyExecutionAllowed(derivativeOwner: address): bool</text>
</g>
<!-- 35&#45;&gt;7 -->
<g id="edge62" class="edge">
<title>35&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M8216.8446,-1431.7168C8102.244,-1525.9559 7950.0006,-1651.1498 7848.3478,-1734.7416"/>
<polygon fill="none" stroke="#000000" points="7841.4231,-1726.8417 7824.9206,-1754.0064 7854.7614,-1743.0618 7841.4231,-1726.8417"/>
</g>
<!-- 35&#45;&gt;8 -->
<g id="edge63" class="edge">
<title>35&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M8348.444,-1431.7168C8331.4699,-1516.2641 8309.4936,-1625.7267 8293.0343,-1707.7101"/>
<polygon fill="none" stroke="#000000" points="8282.7395,-1705.6448 8287.1288,-1737.1247 8303.3286,-1709.7784 8282.7395,-1705.6448"/>
</g>
<!-- 35&#45;&gt;11 -->
<g id="edge61" class="edge">
<title>35&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M8126.5118,-1431.7195C8086.2483,-1448.4779 8044.3356,-1463.5006 8003.4665,-1474.2 7804.2254,-1526.3609 7741.321,-1460.4411 7541.4665,-1510.2 7385.2997,-1549.0817 7220.0887,-1618.5369 7086.9789,-1682.3425"/>
<polygon fill="none" stroke="#000000" points="7082.3622,-1672.9117 7059.9382,-1695.4376 7091.5152,-1691.8121 7082.3622,-1672.9117"/>
</g>
<!-- 36 -->
<g id="node43" class="node">
<title>36</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5715.0428,-1147.3 5715.0428,-1456.9 6437.8902,-1456.9 6437.8902,-1147.3 5715.0428,-1147.3"/>
<text text-anchor="middle" x="6076.4665" y="-1440.3" font-family="Times,serif" font-size="14.00" fill="#000000">OptionCallDeliverySyntheticId</text>
<polyline fill="none" stroke="#000000" points="5715.0428,-1432.1 6437.8902,-1432.1 "/>
<text text-anchor="start" x="5723.0428" y="-1415.5" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="5723.0428" y="-1398.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;author: address</text>
<text text-anchor="start" x="5723.0428" y="-1381.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;commission: uint256</text>
<polyline fill="none" stroke="#000000" points="5715.0428,-1373.7 6437.8902,-1373.7 "/>
<text text-anchor="start" x="5723.0428" y="-1357.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5723.0428" y="-1340.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSyntheticIdName(): string</text>
<text text-anchor="start" x="5723.0428" y="-1323.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMargin(_derivative: LibDerivative.Derivative): (buyerMargin: uint256, sellerMargin: uint256)</text>
<text text-anchor="start" x="5723.0428" y="-1306.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExecutionPayout(_derivative: LibDerivative.Derivative, _result: uint256): (buyerPayout: uint256, sellerPayout: uint256)</text>
<text text-anchor="start" x="5723.0428" y="-1289.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorCommission(): uint256</text>
<text text-anchor="start" x="5723.0428" y="-1273.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;thirdpartyExecutionAllowed(address): bool</text>
<text text-anchor="start" x="5723.0428" y="-1256.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowThirdpartyExecution(bool)</text>
<text text-anchor="start" x="5723.0428" y="-1239.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAuthorCommission(_commission: uint256)</text>
<text text-anchor="start" x="5723.0428" y="-1222.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="5723.0428" y="-1205.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_author: address, _commission: uint256)</text>
<text text-anchor="start" x="5723.0428" y="-1189.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;validateInput(_derivative: LibDerivative.Derivative): bool</text>
<text text-anchor="start" x="5723.0428" y="-1172.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorAddress(): address</text>
<text text-anchor="start" x="5723.0428" y="-1155.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAuthorAddress(_author: address)</text>
</g>
<!-- 36&#45;&gt;11 -->
<g id="edge64" class="edge">
<title>36&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6296.0335,-1457.0711C6395.0625,-1526.966 6511.4439,-1609.1083 6609.103,-1678.0364"/>
<polygon fill="none" stroke="#000000" points="6603.2667,-1686.769 6633.8314,-1695.4898 6615.3761,-1669.6121 6603.2667,-1686.769"/>
</g>
<!-- 37 -->
<g id="node44" class="node">
<title>37</title>
<polygon fill="#f2f2f2" stroke="#000000" points="6456.0428,-1130.5 6456.0428,-1473.7 7178.8902,-1473.7 7178.8902,-1130.5 6456.0428,-1130.5"/>
<text text-anchor="middle" x="6817.4665" y="-1457.1" font-family="Times,serif" font-size="14.00" fill="#000000">RatioCdsSyntheticId</text>
<polyline fill="none" stroke="#000000" points="6456.0428,-1448.9 7178.8902,-1448.9 "/>
<text text-anchor="start" x="6464.0428" y="-1432.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="6464.0428" y="-1415.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;author: address</text>
<text text-anchor="start" x="6464.0428" y="-1398.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;commission: uint256</text>
<text text-anchor="start" x="6464.0428" y="-1381.9" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6464.0428" y="-1365.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;TRIGGER_BASE: uint256</text>
<polyline fill="none" stroke="#000000" points="6456.0428,-1356.9 7178.8902,-1356.9 "/>
<text text-anchor="start" x="6464.0428" y="-1340.3" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="6464.0428" y="-1323.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getSyntheticIdName(): string</text>
<text text-anchor="start" x="6464.0428" y="-1306.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;validateInput(_derivative: LibDerivative.Derivative): bool</text>
<text text-anchor="start" x="6464.0428" y="-1289.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getMargin(_derivative: LibDerivative.Derivative): (buyerMargin: uint256, sellerMargin: uint256)</text>
<text text-anchor="start" x="6464.0428" y="-1273.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getExecutionPayout(_derivative: LibDerivative.Derivative, _result: uint256): (buyerPayout: uint256, sellerPayout: uint256)</text>
<text text-anchor="start" x="6464.0428" y="-1256.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorAddress(): address</text>
<text text-anchor="start" x="6464.0428" y="-1239.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;getAuthorCommission(): uint256</text>
<text text-anchor="start" x="6464.0428" y="-1222.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;thirdpartyExecutionAllowed(address): bool</text>
<text text-anchor="start" x="6464.0428" y="-1205.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;allowThirdpartyExecution(bool)</text>
<text text-anchor="start" x="6464.0428" y="-1189.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAuthorAddress(_author: address)</text>
<text text-anchor="start" x="6464.0428" y="-1172.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setAuthorCommission(_commission: uint256)</text>
<text text-anchor="start" x="6464.0428" y="-1155.5" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="6464.0428" y="-1138.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;constructor(_author: address, _commission: uint256)</text>
</g>
<!-- 37&#45;&gt;11 -->
<g id="edge65" class="edge">
<title>37&#45;&gt;11</title>
<path fill="none" stroke="#000000" stroke-dasharray="5,2" d="M6817.4665,-1473.7119C6817.4665,-1535.226 6817.4665,-1604.2956 6817.4665,-1664.8134"/>
<polygon fill="none" stroke="#000000" points="6806.9666,-1665.1353 6817.4665,-1695.1353 6827.9666,-1665.1353 6806.9666,-1665.1353"/>
</g>
<!-- 28 -->
<g id="node45" class="node">
<title>28</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3134.5173,-42.5 3134.5173,-133.7 3278.4157,-133.7 3278.4157,-42.5 3134.5173,-42.5"/>
<text text-anchor="middle" x="3206.4665" y="-117.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestCoreUpgrade</text>
<polyline fill="none" stroke="#000000" points="3134.5173,-108.9 3278.4157,-108.9 "/>
<text text-anchor="middle" x="3206.4665" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3134.5173,-84.1 3278.4157,-84.1 "/>
<text text-anchor="start" x="3142.5173" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3142.5173" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;placeholder(): string</text>
</g>
<!-- 28&#45;&gt;0 -->
<g id="edge66" class="edge">
<title>28&#45;&gt;0</title>
<path fill="none" stroke="#000000" d="M3206.4665,-133.8577C3206.4665,-147.6069 3206.4665,-163.9705 3206.4665,-182.2706"/>
<polygon fill="none" stroke="#000000" points="3195.9666,-182.5242 3206.4665,-212.5242 3216.9666,-182.5242 3195.9666,-182.5242"/>
</g>
<!-- 29 -->
<g id="node46" class="node">
<title>29</title>
<polygon fill="#f2f2f2" stroke="#000000" points="9357.7925,-42.5 9357.7925,-133.7 9547.1405,-133.7 9547.1405,-42.5 9357.7925,-42.5"/>
<text text-anchor="middle" x="9452.4665" y="-117.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestOracleAggregatorUpgrade</text>
<polyline fill="none" stroke="#000000" points="9357.7925,-108.9 9547.1405,-108.9 "/>
<text text-anchor="middle" x="9452.4665" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="9357.7925,-84.1 9547.1405,-84.1 "/>
<text text-anchor="start" x="9365.7925" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="9365.7925" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;placeholder(): string</text>
</g>
<!-- 29&#45;&gt;3 -->
<g id="edge67" class="edge">
<title>29&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M9452.4665,-133.8577C9452.4665,-216.5639 9452.4665,-393.8767 9452.4665,-518.1824"/>
<polygon fill="none" stroke="#000000" points="9441.9666,-518.5536 9452.4665,-548.5536 9462.9666,-518.5536 9441.9666,-518.5536"/>
</g>
<!-- 30 -->
<g id="node47" class="node">
<title>30</title>
<polygon fill="#f2f2f2" stroke="#000000" points="3369.5173,-1779.5 3369.5173,-1870.7 3513.4157,-1870.7 3513.4157,-1779.5 3369.5173,-1779.5"/>
<text text-anchor="middle" x="3441.4665" y="-1854.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestRegistryUpgrade</text>
<polyline fill="none" stroke="#000000" points="3369.5173,-1845.9 3513.4157,-1845.9 "/>
<text text-anchor="middle" x="3441.4665" y="-1829.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="3369.5173,-1821.1 3513.4157,-1821.1 "/>
<text text-anchor="start" x="3377.5173" y="-1804.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="3377.5173" y="-1787.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;placeholder(): string</text>
</g>
<!-- 30&#45;&gt;24 -->
<g id="edge68" class="edge">
<title>30&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M3432.3852,-1870.7219C3419.2503,-1932.9185 3392.4137,-2047.1997 3355.4665,-2140 3354.3448,-2142.8174 3353.2135,-2145.6385 3352.0729,-2148.4631"/>
<polygon fill="none" stroke="#000000" points="3342.3478,-2144.5039 3340.6078,-2176.2407 3361.7594,-2152.516 3342.3478,-2144.5039"/>
</g>
<!-- 31 -->
<g id="node48" class="node">
<title>31</title>
<polygon fill="#f2f2f2" stroke="#000000" points="5753.0015,-42.5 5753.0015,-133.7 5957.9315,-133.7 5957.9315,-42.5 5753.0015,-42.5"/>
<text text-anchor="middle" x="5855.4665" y="-117.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestSyntheticAggregatorUpgrade</text>
<polyline fill="none" stroke="#000000" points="5753.0015,-108.9 5957.9315,-108.9 "/>
<text text-anchor="middle" x="5855.4665" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="5753.0015,-84.1 5957.9315,-84.1 "/>
<text text-anchor="start" x="5761.0015" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="5761.0015" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;placeholder(): string</text>
</g>
<!-- 31&#45;&gt;4 -->
<g id="edge69" class="edge">
<title>31&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M5855.4665,-133.8577C5855.4665,-214.7475 5855.4665,-386.1341 5855.4665,-509.9173"/>
<polygon fill="none" stroke="#000000" points="5844.9666,-510.2778 5855.4665,-540.2779 5865.9666,-510.2779 5844.9666,-510.2778"/>
</g>
<!-- 32 -->
<g id="node49" class="node">
<title>32</title>
<polygon fill="#f2f2f2" stroke="#000000" points="4087.4973,-42.5 4087.4973,-133.7 4257.4357,-133.7 4257.4357,-42.5 4087.4973,-42.5"/>
<text text-anchor="middle" x="4172.4665" y="-117.1" font-family="Times,serif" font-size="14.00" fill="#000000">TestTokenSpenderUpgrade</text>
<polyline fill="none" stroke="#000000" points="4087.4973,-108.9 4257.4357,-108.9 "/>
<text text-anchor="middle" x="4172.4665" y="-92.3" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="4087.4973,-84.1 4257.4357,-84.1 "/>
<text text-anchor="start" x="4095.4973" y="-67.5" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="4095.4973" y="-50.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;placeholder(): string</text>
</g>
<!-- 32&#45;&gt;5 -->
<g id="edge70" class="edge">
<title>32&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M4172.4665,-133.8577C4172.4665,-222.2826 4172.4665,-418.8494 4172.4665,-543.1584"/>
<polygon fill="none" stroke="#000000" points="4161.9666,-543.4777 4172.4665,-573.4777 4182.9666,-543.4777 4161.9666,-543.4777"/>
</g>
</g>
</svg>
